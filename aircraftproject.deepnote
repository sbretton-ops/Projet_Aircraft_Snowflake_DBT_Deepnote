metadata:
  createdAt: 2025-11-26T17:13:55.363Z
  modifiedAt: 2025-11-30T17:44:04.352Z
project:
  id: d28f442c-5b6d-4fa3-bb7a-904fb66836dc
  name: aircraft_project
  integrations:
    - id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
      name: aircraft_analytics
      type: snowflake
  notebooks:
    - blocks:
        - blockGroup: c9bebe5287ee46ccaad1d7a04bbdfdfc
          content: |-
            -- QUEL AVION A EFFECTUE LE PLUS DE VOLS ? -- 
            select * from ANALYTICS.DBT_SBRETTON.FCT_NUMBER_OF_FLIGHTS
          executionCount: 1
          id: 5efb39df5f574063b20632e4e9b7370c
          metadata:
            execution_start: 1764524607369
            execution_millis: 5465
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_1
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 801
                  compiled_query: |-
                    -- QUEL AVION A EFFECTUE LE PLUS DE VOLS ? -- 
                    select * from ANALYTICS.DBT_SBRETTON.FCT_NUMBER_OF_FLIGHTS
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 1
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 3
                  columns:
                    - name: aircraft_type
                      dtype: object
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Goose
                            count: 1
                          - name: Thundercat
                            count: 1
                          - name: 3 others
                            count: 3
                    - name: aircraft_id
                      dtype: object
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: g72
                            count: 1
                          - name: t10
                            count: 1
                          - name: 3 others
                            count: 3
                    - name: number_of_flights
                      dtype: int64
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: "192"
                        max: "1008"
                        histogram:
                          - bin_start: 192
                            bin_end: 273.6
                            count: 2
                          - bin_start: 273.6
                            bin_end: 355.2
                            count: 1
                          - bin_start: 355.2
                            bin_end: 436.79999999999995
                            count: 0
                          - bin_start: 436.79999999999995
                            bin_end: 518.4
                            count: 0
                          - bin_start: 518.4
                            bin_end: 600
                            count: 1
                          - bin_start: 600
                            bin_end: 681.5999999999999
                            count: 0
                          - bin_start: 681.5999999999999
                            bin_end: 763.1999999999999
                            count: 0
                          - bin_start: 763.1999999999999
                            bin_end: 844.8
                            count: 0
                          - bin_start: 844.8
                            bin_end: 926.4
                            count: 0
                          - bin_start: 926.4
                            bin_end: 1008
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 5
                  preview_row_count: 5
                  rows:
                    - aircraft_type: Goose
                      aircraft_id: g72
                      number_of_flights: 1008
                      _deepnote_index_column: 0
                    - aircraft_type: Thundercat
                      aircraft_id: t10
                      number_of_flights: 553
                      _deepnote_index_column: 1
                    - aircraft_type: Miniflock
                      aircraft_id: 12a
                      number_of_flights: 277
                      _deepnote_index_column: 2
                    - aircraft_type: Bezantium
                      aircraft_id: b23
                      number_of_flights: 240
                      _deepnote_index_column: 3
                    - aircraft_type: Flockinator
                      aircraft_id: 12d
                      number_of_flights: 192
                      _deepnote_index_column: 4
                  type: dataframe
                text/plain: |2-
                    aircraft_type aircraft_id  number_of_flights
                  0         Goose         g72               1008
                  1    Thundercat         t10                553
                  2     Miniflock         12a                277
                  3     Bezantium         b23                240
                  4   Flockinator         12d                192
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>aircraft_type</th>
                        <th>aircraft_id</th>
                        <th>number_of_flights</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>Goose</td>
                        <td>g72</td>
                        <td>1008</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>Thundercat</td>
                        <td>t10</td>
                        <td>553</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>Miniflock</td>
                        <td>12a</td>
                        <td>277</td>
                      </tr>
                      <tr>
                        <th>3</th>
                        <td>Bezantium</td>
                        <td>b23</td>
                        <td>240</td>
                      </tr>
                      <tr>
                        <th>4</th>
                        <td>Flockinator</td>
                        <td>12d</td>
                        <td>192</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: m
          type: sql
        - blockGroup: 43399ba2fe0c4208bdfebf935eb1ebea
          content: ""
          executionCount: 2
          id: 2899882d05254f779530e2c540fef465
          metadata:
            execution_start: 1764524613258
            execution_millis: 107
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_1
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: bar
                            color: "#2266D3"
                            tooltip: false
                          encoding:
                            x:
                              axis:
                                grid: false
                              sort: null
                              type: nominal
                              field: aircraft_type
                              scale:
                                type: linear
                            y:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: number_of_flights
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            color:
                              type: nominal
                              datum: number_of_flights
                              scale:
                                range:
                                  - "#2266D3"
                                domain:
                                  - number_of_flights
                            tooltip:
                              - type: nominal
                                field: aircraft_type
                            xOffset:
                              datum: series_0
                          transform: []
                        - mark:
                            dx: 0
                            dy: -1
                            fill:
                              expr: valueLabelsColor
                            type: text
                            align: center
                            baseline: bottom
                          encoding:
                            x:
                              axis:
                                grid: false
                              sort: null
                              type: nominal
                              field: aircraft_type
                              scale:
                                type: linear
                            y:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: number_of_flights
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            text:
                              type: quantitative
                              field: number_of_flights
                              aggregate: sum
                            color:
                              type: nominal
                              datum: number_of_flights
                              scale:
                                range:
                                  - "#2266D3"
                                domain:
                                  - number_of_flights
                            tooltip:
                              - type: nominal
                                field: aircraft_type
                            xOffset:
                              datum: series_0
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: "Répartition du nombre de vols effectués "
              config:
                legend:
                  disable: false
              params:
                - name: valueLabelsColor
                  value: black
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - number_of_flights
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: false
          outputs:
            - output_type: execute_result
              execution_count: 2
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: legend_size_0_0_store
                    - name: legend_color_0_0_store
                    - name: source_0
                      values:
                        - aircraft_type: Goose
                          sum_number_of_flights: 1008
                        - aircraft_type: Thundercat
                          sum_number_of_flights: 553
                        - aircraft_type: Miniflock
                          sum_number_of_flights: 277
                        - aircraft_type: Bezantium
                          sum_number_of_flights: 240
                        - aircraft_type: Flockinator
                          sum_number_of_flights: 192
                    - name: source_0_x_domain_aircraft_type
                      values:
                        - aircraft_type: Goose
                        - aircraft_type: Thundercat
                        - aircraft_type: Miniflock
                        - aircraft_type: Bezantium
                        - aircraft_type: Flockinator
                    - name: source_0_y_domain_sum_number_of_flights
                      values:
                        - min: 192
                          max: 1008
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_0
                      update: vlSelectionResolve("legend_size_0_0_store", "union", true, true)
                    - name: legend_color_0_0
                      update: vlSelectionResolve("legend_color_0_0_store", "union", true, true)
                    - name: valueLabelsColor
                      value: black
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_color_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_color_0_tuple_fields
                      value: []
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            type: pointermove
                            consume: true
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: "[0, 0]"
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_aircraft_type
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                          update: '(!isArray(interval_selection_aircraft_type) || (invert("x",
                            interval_selection_x)[0] ===
                            interval_selection_aircraft_type[0] && invert("x",
                            interval_selection_x)[1] ===
                            interval_selection_aircraft_type[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_aircraft_type
                          update: 'interval_selection_aircraft_type ? {unit: "layer_0_layer_0_layer_0",
                            fields: interval_selection_tuple_fields, values:
                            [interval_selection_aircraft_type]} : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: aircraft_type
                          channel: x
                          type: E
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              consume: true
                              type: pointermove
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                    - name: legend_size_0_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 ? {unit: \"layer_0_layer_0_layer_1\",
                            fields: legend_size_0_0_tuple_fields, values: []} :
                            null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_0_tuple_fields
                      value: []
                    - name: legend_size_0_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_0_modify
                      on:
                        - events:
                            signal: legend_size_0_0_tuple
                          update: 'modify("legend_size_0_0_store", legend_size_0_0_toggle ? null :
                            legend_size_0_0_tuple, legend_size_0_0_toggle ? null
                            : true, legend_size_0_0_toggle ?
                            legend_size_0_0_tuple : null)'
                    - name: legend_color_0_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 ? {unit: \"layer_0_layer_0_layer_1\",
                            fields: legend_color_0_0_tuple_fields, values: []} :
                            null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_color_0_0_tuple_fields
                      value: []
                    - name: legend_color_0_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_color_0_0_modify
                      on:
                        - events:
                            signal: legend_color_0_0_tuple
                          update: 'modify("legend_color_0_0_store", legend_color_0_0_toggle ? null :
                            legend_color_0_0_tuple, legend_color_0_0_toggle ?
                            null : true, legend_color_0_0_toggle ?
                            legend_color_0_0_tuple : null)'
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        update:
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                        enter:
                          fillOpacity:
                            value: 0.125
                          fill:
                            value: "#333"
                      clip: true
                    - type: rect
                      name: layer_0_layer_0_layer_0_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          x:
                            field: aircraft_type
                            scale: x
                            offset:
                              value: series_0
                              scale: xOffset
                          width:
                            signal: max(0.25, bandwidth('xOffset'))
                          opacity:
                            - value: 1
                              test: (!length(data("legend_size_0_store")) ||
                                vlSelectionTest("legend_size_0_store", datum))
                                && (!length(data("legend_color_0_store")) ||
                                vlSelectionTest("legend_color_0_store", datum))
                                && (!length(data("interval_selection_store")) ||
                                vlSelectionTest("interval_selection_store",
                                datum))
                            - value: 0.2
                          y2:
                            value: 0
                            scale: y
                          tooltip:
                            signal: '{"aircraft_type": isValid(datum["aircraft_type"]) ?
                              datum["aircraft_type"] :
                              ""+datum["aircraft_type"]}'
                          y:
                            field: sum_number_of_flights
                            scale: y
                          fill:
                            value: number_of_flights
                            scale: layer_0_layer_0_color
                      clip: true
                      style:
                        - bar
                      interactive: true
                    - type: text
                      name: layer_0_layer_0_layer_1_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          align:
                            value: center
                          text:
                            signal: format(datum["sum_number_of_flights"], "")
                          dy:
                            value: -1
                          dx:
                            value: 0
                          x:
                            field: aircraft_type
                            scale: x
                            offset:
                              value: series_0
                              scale: xOffset
                              band: 0.5
                          fill:
                            signal: valueLabelsColor
                          baseline:
                            value: bottom
                          tooltip:
                            signal: '{"aircraft_type": isValid(datum["aircraft_type"]) ?
                              datum["aircraft_type"] :
                              ""+datum["aircraft_type"]}'
                          y:
                            field: sum_number_of_flights
                            scale: y
                      interactive: true
                      style:
                        - text
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        enter:
                          fill:
                            value: transparent
                          cursor:
                            value: move
                        update:
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1]
                            - {}
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                  scales:
                    - name: x
                      type: band
                      domain:
                        data: source_0_x_domain_aircraft_type
                        field: aircraft_type
                      range:
                        - 0
                        - signal: width
                      paddingOuter: 0.2
                      paddingInner: 0.2
                    - name: y
                      type: linear
                      domain:
                        - signal: (data("source_0_y_domain_sum_number_of_flights")[0] || {}).min
                        - signal: (data("source_0_y_domain_sum_number_of_flights")[0] || {}).max
                      range:
                        - signal: height
                        - 0
                      nice: true
                      zero: true
                    - name: xOffset
                      type: band
                      domain:
                        - series_0
                      range:
                        - 0
                        - signal: bandwidth('x')
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        - number_of_flights
                      range:
                        - "#2266D3"
                  axes:
                    - scale: x
                      grid: false
                      title: aircraft_type
                      labelAlign: right
                      orient: bottom
                      labelAngle: 270
                      labelBaseline: middle
                      zindex: 0
                    - scale: y
                      zindex: 0
                      orient: left
                      title: Sum of number_of_flights
                      grid: false
                      tickCount: 5
                      labelOverlap: true
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                  title:
                    text: "Répartition du nombre de vols effectués "
                    frame: group
                  usermeta:
                    seriesOrder:
                      - 0
                    specSchemaVersion: 2
                    tooltipDefaultMode: false
                    seriesNames:
                      - number_of_flights
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 5
                      columns:
                        - name: aircraft_type
                          nativeType: object
                          distinctValues:
                            - Bezantium
                            - Flockinator
                            - Goose
                            - Miniflock
                            - Thundercat
                        - name: aircraft_id
                          nativeType: object
                          distinctValues:
                            - 12a
                            - 12d
                            - b23
                            - g72
                            - t10
                        - name: number_of_flights
                          nativeType: int64
                          distinctValues:
                            - 192
                            - 240
                            - 277
                            - 553
                            - 1008
                  style: cell
                  legends:
                    - fill: layer_0_layer_0_color
                      symbolType: circle
                      encode:
                        symbols:
                          update:
                            opacity:
                              value: 1
                  background: white
                  autosize:
                    type: fit
                    contains: padding
                  padding: 5
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f174e760590>
              metadata: {}
          sortingKey: o
          type: visualization
        - blockGroup: de0accbcfbc8435b8e17dcc55e761650
          content: |-
            -- QUEL AVION A EFFECTUE LE PLUS DE VOLS ? -- 
            select * from ANALYTICS.DBT_SBRETTON.FCT_NUMBER_OF_FLIGHTS
          executionCount: 3
          id: 9dec8cfc603040f1b922a3fe7be2a704
          metadata:
            execution_start: 1764524613418
            execution_millis: 2336
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_5
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 801
                  compiled_query: |-
                    -- QUEL AVION A EFFECTUE LE PLUS DE VOLS ? -- 
                    select * from ANALYTICS.DBT_SBRETTON.FCT_NUMBER_OF_FLIGHTS
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 3
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 3
                  columns:
                    - name: aircraft_type
                      dtype: object
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Goose
                            count: 1
                          - name: Thundercat
                            count: 1
                          - name: 3 others
                            count: 3
                    - name: aircraft_id
                      dtype: object
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: g72
                            count: 1
                          - name: t10
                            count: 1
                          - name: 3 others
                            count: 3
                    - name: number_of_flights
                      dtype: int64
                      stats:
                        unique_count: 5
                        nan_count: 0
                        min: "192"
                        max: "1008"
                        histogram:
                          - bin_start: 192
                            bin_end: 273.6
                            count: 2
                          - bin_start: 273.6
                            bin_end: 355.2
                            count: 1
                          - bin_start: 355.2
                            bin_end: 436.79999999999995
                            count: 0
                          - bin_start: 436.79999999999995
                            bin_end: 518.4
                            count: 0
                          - bin_start: 518.4
                            bin_end: 600
                            count: 1
                          - bin_start: 600
                            bin_end: 681.5999999999999
                            count: 0
                          - bin_start: 681.5999999999999
                            bin_end: 763.1999999999999
                            count: 0
                          - bin_start: 763.1999999999999
                            bin_end: 844.8
                            count: 0
                          - bin_start: 844.8
                            bin_end: 926.4
                            count: 0
                          - bin_start: 926.4
                            bin_end: 1008
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 5
                  preview_row_count: 5
                  rows:
                    - aircraft_type: Goose
                      aircraft_id: g72
                      number_of_flights: 1008
                      _deepnote_index_column: 0
                    - aircraft_type: Thundercat
                      aircraft_id: t10
                      number_of_flights: 553
                      _deepnote_index_column: 1
                    - aircraft_type: Miniflock
                      aircraft_id: 12a
                      number_of_flights: 277
                      _deepnote_index_column: 2
                    - aircraft_type: Bezantium
                      aircraft_id: b23
                      number_of_flights: 240
                      _deepnote_index_column: 3
                    - aircraft_type: Flockinator
                      aircraft_id: 12d
                      number_of_flights: 192
                      _deepnote_index_column: 4
                  type: dataframe
                text/plain: |2-
                    aircraft_type aircraft_id  number_of_flights
                  0         Goose         g72               1008
                  1    Thundercat         t10                553
                  2     Miniflock         12a                277
                  3     Bezantium         b23                240
                  4   Flockinator         12d                192
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>aircraft_type</th>
                        <th>aircraft_id</th>
                        <th>number_of_flights</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>Goose</td>
                        <td>g72</td>
                        <td>1008</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>Thundercat</td>
                        <td>t10</td>
                        <td>553</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>Miniflock</td>
                        <td>12a</td>
                        <td>277</td>
                      </tr>
                      <tr>
                        <th>3</th>
                        <td>Bezantium</td>
                        <td>b23</td>
                        <td>240</td>
                      </tr>
                      <tr>
                        <th>4</th>
                        <td>Flockinator</td>
                        <td>12d</td>
                        <td>192</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: p
          type: sql
        - blockGroup: 16e13621480045d482755bc178f2802d
          content: ""
          executionCount: 4
          id: 984baeee4fce4dd6a69fbdc3bf9cf283
          metadata:
            execution_start: 1764524615799
            execution_millis: 1
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_5
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: arc
                            color: "#2266D3"
                            tooltip: true
                            innerRadius:
                              expr: min(width, height) / 5
                            outerRadius:
                              expr: min(width, height) / 2
                          encoding:
                            color:
                              axis:
                                grid: false
                              sort: null
                              type: nominal
                              field: aircraft_type
                              scale:
                                scheme: deepnote10
                            order:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              sort: descending
                              type: quantitative
                              field: number_of_flights
                              scale: {}
                              stack: true
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            theta:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: number_of_flights
                              scale: {}
                              stack: true
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            tooltip:
                              - axis:
                                  grid: false
                                sort: null
                                type: nominal
                                field: aircraft_type
                                scale:
                                  scheme: deepnote10
                              - axis:
                                  grid: false
                                  format:
                                    type: default
                                    decimals: null
                                  formatType: numberFormatFromNumberType
                                type: quantitative
                                field: number_of_flights
                                scale: {}
                                stack: true
                                format: .0%
                                aggregate: sum
                          transform:
                            - groupby:
                                - aircraft_type
                              aggregate:
                                - as: deepnote_percentage_custom_field_percentage_grouped
                                  op: sum
                                  field: number_of_flights
                            - frame:
                                - null
                                - null
                              window:
                                - as: deepnote_percentage_custom_field_percentage_total
                                  op: sum
                                  field: deepnote_percentage_custom_field_percentage_grouped
                            - as: number_of_flights
                              calculate: datum['deepnote_percentage_custom_field_percentage_grouped'] /
                                datum['deepnote_percentage_custom_field_percentage_total']
                        - mark:
                            dx: 0
                            dy: -1
                            fill:
                              expr: valueLabelsColor
                            type: text
                            align: center
                            radius:
                              expr: min(width, height) / 2 - 50
                            baseline: bottom
                          encoding:
                            text:
                              type: quantitative
                              field: number_of_flights
                              stack: true
                              format: .0%
                              aggregate: sum
                            color:
                              axis:
                                grid: false
                              sort: null
                              type: nominal
                              field: aircraft_type
                              scale:
                                scheme: deepnote10
                            order:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              sort: descending
                              type: quantitative
                              field: number_of_flights
                              scale: {}
                              stack: true
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            theta:
                              axis:
                                grid: false
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: number_of_flights
                              scale: {}
                              stack: true
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            tooltip:
                              - axis:
                                  grid: false
                                sort: null
                                type: nominal
                                field: aircraft_type
                                scale:
                                  scheme: deepnote10
                              - axis:
                                  grid: false
                                  format:
                                    type: default
                                    decimals: null
                                  formatType: numberFormatFromNumberType
                                type: quantitative
                                field: number_of_flights
                                scale: {}
                                stack: true
                                format: .0%
                                aggregate: sum
                          transform:
                            - groupby:
                                - aircraft_type
                              aggregate:
                                - as: deepnote_percentage_custom_field_percentage_grouped
                                  op: sum
                                  field: number_of_flights
                            - frame:
                                - null
                                - null
                              window:
                                - as: deepnote_percentage_custom_field_percentage_total
                                  op: sum
                                  field: deepnote_percentage_custom_field_percentage_grouped
                            - as: number_of_flights
                              calculate: datum['deepnote_percentage_custom_field_percentage_grouped'] /
                                datum['deepnote_percentage_custom_field_percentage_total']
                  resolve:
                    scale:
                      color: independent
              title: Répartition en pourcentage des vols effectués
              config:
                legend:
                  disable: false
              params:
                - name: valueLabelsColor
                  value: black
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - number_of_flights
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: true
          outputs:
            - output_type: execute_result
              execution_count: 4
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: legend_size_0_0_store
                    - name: legend_color_0_0_store
                    - name: source_0
                      values:
                        - aircraft_type: Goose
                          sum_number_of_flights: 0.4440528634361233
                          sum_number_of_flights_end: 0.4440528634361233
                          sum_number_of_flights_start: 0
                        - aircraft_type: Thundercat
                          sum_number_of_flights: 0.24361233480176211
                          sum_number_of_flights_end: 0.6876651982378854
                          sum_number_of_flights_start: 0.44405286343612327
                        - aircraft_type: Miniflock
                          sum_number_of_flights: 0.12202643171806167
                          sum_number_of_flights_end: 0.8096916299559471
                          sum_number_of_flights_start: 0.6876651982378854
                        - aircraft_type: Bezantium
                          sum_number_of_flights: 0.10572687224669604
                          sum_number_of_flights_end: 0.9154185022026432
                          sum_number_of_flights_start: 0.8096916299559471
                        - aircraft_type: Flockinator
                          sum_number_of_flights: 0.08458149779735682
                          sum_number_of_flights_end: 1
                          sum_number_of_flights_start: 0.9154185022026432
                    - name: source_0_layer_0_layer_0_color_domain_aircraft_type
                      values:
                        - aircraft_type: Goose
                        - aircraft_type: Thundercat
                        - aircraft_type: Miniflock
                        - aircraft_type: Bezantium
                        - aircraft_type: Flockinator
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: legend_color_0_0_aircraft_type_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: aircraft_type_legend_symbols
                              type: click
                            - source: view
                              markname: aircraft_type_legend_labels
                              type: click
                            - source: view
                              markname: aircraft_type_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_0_aircraft_type_legend"
                          force: true
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_aircraft_type_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: aircraft_type_legend_symbols
                              type: click
                            - source: view
                              markname: aircraft_type_legend_labels
                              type: click
                            - source: view
                              markname: aircraft_type_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_aircraft_type_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_0
                      update: vlSelectionResolve("legend_size_0_0_store", "union", true, true)
                    - name: legend_color_0_0
                      update: vlSelectionResolve("legend_color_0_0_store", "union", true, true)
                    - name: valueLabelsColor
                      value: black
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_aircraft_type_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_aircraft_type_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: aircraft_type
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_tuple
                    - name: interval_selection_tuple_fields
                      value: []
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              type: pointermove
                              consume: true
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                    - name: legend_size_0_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 ? {unit: \"layer_0_layer_0_layer_1\",
                            fields: legend_size_0_0_tuple_fields, values: []} :
                            null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_0_tuple_fields
                      value: []
                    - name: legend_size_0_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_0_modify
                      on:
                        - events:
                            signal: legend_size_0_0_tuple
                          update: 'modify("legend_size_0_0_store", legend_size_0_0_toggle ? null :
                            legend_size_0_0_tuple, legend_size_0_0_toggle ? null
                            : true, legend_size_0_0_toggle ?
                            legend_size_0_0_tuple : null)'
                    - name: legend_color_0_0_tuple
                      update: "legend_color_0_0_aircraft_type_legend !== null ? {fields:
                        legend_color_0_0_tuple_fields, values:
                        [legend_color_0_0_aircraft_type_legend]} : null"
                    - name: legend_color_0_0_tuple_fields
                      value:
                        - field: aircraft_type
                          channel: color
                          type: E
                    - name: legend_color_0_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_0_modify
                      on:
                        - events:
                            signal: legend_color_0_0_tuple
                          update: 'modify("legend_color_0_0_store", legend_color_0_0_toggle ? null :
                            legend_color_0_0_tuple, legend_color_0_0_toggle ?
                            null : true, legend_color_0_0_toggle ?
                            legend_color_0_0_tuple : null)'
                  marks:
                    - type: arc
                      name: layer_0_layer_0_layer_0_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          startAngle:
                            field: sum_number_of_flights_end
                            scale: theta
                          innerRadius:
                            signal: min(width, height) / 5
                          endAngle:
                            field: sum_number_of_flights_start
                            scale: theta
                          outerRadius:
                            signal: min(width, height) / 2
                          y:
                            signal: height
                            mult: 0.5
                          fill:
                            field: aircraft_type
                            scale: layer_0_layer_0_color
                          opacity:
                            - value: 1
                              test: (!length(data("legend_size_0_store")) ||
                                vlSelectionTest("legend_size_0_store", datum))
                                && (!length(data("legend_color_0_store")) ||
                                vlSelectionTest("legend_color_0_store", datum))
                            - value: 0.2
                          x:
                            signal: width
                            mult: 0.5
                          tooltip:
                            signal: '{"aircraft_type": isValid(datum["aircraft_type"]) ?
                              datum["aircraft_type"] :
                              ""+datum["aircraft_type"], "Sum of
                              number_of_flights":
                              format(datum["sum_number_of_flights"], ".0%")}'
                      style:
                        - arc
                      interactive: true
                      clip: true
                    - type: text
                      name: layer_0_layer_0_layer_1_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          tooltip:
                            signal: '{"aircraft_type": isValid(datum["aircraft_type"]) ?
                              datum["aircraft_type"] :
                              ""+datum["aircraft_type"], "Sum of
                              number_of_flights":
                              format(datum["sum_number_of_flights"], ".0%")}'
                          x:
                            signal: width
                            mult: 0.5
                          y:
                            signal: height
                            mult: 0.5
                          dy:
                            value: -1
                          dx:
                            value: 0
                          baseline:
                            value: bottom
                          theta:
                            signal: scale("theta", 0.5 * datum["sum_number_of_flights_start"] + 0.5 *
                              datum["sum_number_of_flights_end"])
                          fill:
                            signal: valueLabelsColor
                          align:
                            value: center
                          radius:
                            signal: min(width, height) / 2 - 50
                          text:
                            signal: format(datum["sum_number_of_flights"], ".0%")
                      style:
                        - text
                      interactive: true
                  scales:
                    - name: theta
                      type: linear
                      domain:
                        data: source_0
                        fields:
                          - sum_number_of_flights_start
                          - sum_number_of_flights_end
                      range:
                        - 0
                        - 6.283185307179586
                      zero: true
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        data: source_0_layer_0_layer_0_color_domain_aircraft_type
                        field: aircraft_type
                      range:
                        scheme: deepnote10
                  title:
                    text: Répartition en pourcentage des vols effectués
                    frame: group
                  usermeta:
                    seriesOrder:
                      - 0
                    seriesNames:
                      - number_of_flights
                    specSchemaVersion: 2
                    tooltipDefaultMode: true
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 5
                      columns:
                        - name: aircraft_type
                          nativeType: object
                          distinctValues:
                            - Bezantium
                            - Flockinator
                            - Goose
                            - Miniflock
                            - Thundercat
                        - name: aircraft_id
                          nativeType: object
                          distinctValues:
                            - 12a
                            - 12d
                            - b23
                            - g72
                            - t10
                        - name: number_of_flights
                          nativeType: int64
                          distinctValues:
                            - 192
                            - 240
                            - 277
                            - 553
                            - 1008
                  background: white
                  style: view
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  padding: 5
                  legends:
                    - fill: layer_0_layer_0_color
                      symbolType: circle
                      title: aircraft_type
                      encode:
                        labels:
                          name: aircraft_type_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["aircraft_type"]
                                  && indexof(legend_color_0["aircraft_type"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: aircraft_type_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["aircraft_type"]
                                  && indexof(legend_color_0["aircraft_type"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: aircraft_type_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  autosize:
                    type: fit
                    contains: padding
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172de96290>
              metadata: {}
          sortingKey: q
          type: visualization
        - blockGroup: ad1e1d259ade49c19b261933676cf186
          content: |-
            -- QUEL AEROPORT A TRANSPORTE LE PLUS DE PASSAGERS ? 
            SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_AIRPORTS
          executionCount: 5
          id: d92ab3d86ac5410790caaec3cc6585f4
          metadata:
            execution_start: 1764524615848
            execution_millis: 3136
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_1
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 550
                  compiled_query: |-
                    -- QUEL AEROPORT A TRANSPORTE LE PLUS DE PASSAGERS ? 
                    SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_AIRPORTS
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 5
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 3
                  columns:
                    - name: airport_code
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: FKT
                            count: 1
                          - name: NSA
                            count: 1
                          - name: AMP
                            count: 1
                    - name: airport_name
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Flocktopia
                            count: 1
                          - name: Nestland Airport
                            count: 1
                          - name: Amazon Mothership
                            count: 1
                    - name: passengers_nb
                      dtype: float64
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: "80033991.0"
                        max: "430959170.0"
                        histogram:
                          - bin_start: 80033991
                            bin_end: 115126508.9
                            count: 1
                          - bin_start: 115126508.9
                            bin_end: 150219026.8
                            count: 0
                          - bin_start: 150219026.8
                            bin_end: 185311544.7
                            count: 1
                          - bin_start: 185311544.7
                            bin_end: 220404062.6
                            count: 0
                          - bin_start: 220404062.6
                            bin_end: 255496580.5
                            count: 0
                          - bin_start: 255496580.5
                            bin_end: 290589098.4
                            count: 0
                          - bin_start: 290589098.4
                            bin_end: 325681616.29999995
                            count: 0
                          - bin_start: 325681616.29999995
                            bin_end: 360774134.2
                            count: 0
                          - bin_start: 360774134.2
                            bin_end: 395866652.09999996
                            count: 0
                          - bin_start: 395866652.09999996
                            bin_end: 430959170
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 3
                  preview_row_count: 3
                  rows:
                    - airport_code: FKT
                      airport_name: Flocktopia
                      passengers_nb: 430959170
                      _deepnote_index_column: 0
                    - airport_code: NSA
                      airport_name: Nestland Airport
                      passengers_nb: 179064722
                      _deepnote_index_column: 1
                    - airport_code: AMP
                      airport_name: Amazon Mothership
                      passengers_nb: 80033991
                      _deepnote_index_column: 2
                  type: dataframe
                text/plain: |2-
                    airport_code       airport_name  passengers_nb
                  0          FKT         Flocktopia    430959170.0
                  1          NSA   Nestland Airport    179064722.0
                  2          AMP  Amazon Mothership     80033991.0
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>airport_code</th>
                        <th>airport_name</th>
                        <th>passengers_nb</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>FKT</td>
                        <td>Flocktopia</td>
                        <td>430959170.0</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>NSA</td>
                        <td>Nestland Airport</td>
                        <td>179064722.0</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>AMP</td>
                        <td>Amazon Mothership</td>
                        <td>80033991.0</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: x
          type: sql
        - blockGroup: f954f0af9d834063899bb1dae7de59f5
          content: ""
          executionCount: 6
          id: 7c54566b57a944d5ae5ebd86c9742b80
          metadata:
            execution_start: 1764524619029
            execution_millis: 1
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_1
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: bar
                            tooltip: true
                          encoding:
                            x:
                              sort: null
                              type: nominal
                              field: airport_name
                              scale:
                                type: linear
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: passengers_nb
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            color:
                              sort: null
                              type: nominal
                              field: airport_name
                              scale:
                                scheme: deepnote10
                            xOffset:
                              sort: null
                              type: nominal
                              field: airport_name
                          transform: []
                        - mark:
                            dx: 0
                            dy: -1
                            fill:
                              expr: valueLabelsColor
                            type: text
                            align: center
                            baseline: bottom
                          encoding:
                            x:
                              sort: null
                              type: nominal
                              field: airport_name
                              scale:
                                type: linear
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: passengers_nb
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            text:
                              type: quantitative
                              field: passengers_nb
                              aggregate: sum
                            color:
                              sort: null
                              type: nominal
                              field: airport_name
                              scale:
                                scheme: deepnote10
                            xOffset:
                              sort: null
                              type: nominal
                              field: airport_name
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: "Aéroport ayant transporté le plus de passagers "
              config:
                legend:
                  disable: false
              params:
                - name: valueLabelsColor
                  value: black
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - passengers_nb
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: true
          outputs:
            - output_type: execute_result
              execution_count: 6
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: legend_size_0_0_store
                    - name: legend_color_0_0_store
                    - name: source_0
                      values:
                        - airport_name: Flocktopia
                          sum_passengers_nb: 430959170
                        - airport_name: Nestland Airport
                          sum_passengers_nb: 179064722
                        - airport_name: Amazon Mothership
                          sum_passengers_nb: 80033991
                    - name: source_0_x_domain_airport_name
                      values:
                        - airport_name: Flocktopia
                        - airport_name: Nestland Airport
                        - airport_name: Amazon Mothership
                    - name: source_0_y_domain_sum_passengers_nb
                      values:
                        - min: 80033991
                          max: 430959170
                    - name: source_0_xOffset_domain_airport_name
                      values:
                        - airport_name: Flocktopia
                        - airport_name: Nestland Airport
                        - airport_name: Amazon Mothership
                    - name: source_0_layer_0_layer_0_color_domain_airport_name
                      values:
                        - airport_name: Flocktopia
                        - airport_name: Nestland Airport
                        - airport_name: Amazon Mothership
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: legend_color_0_0_airport_name_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: airport_name_legend_symbols
                              type: click
                            - source: view
                              markname: airport_name_legend_labels
                              type: click
                            - source: view
                              markname: airport_name_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_0_airport_name_legend"
                          force: true
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_airport_name_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: airport_name_legend_symbols
                              type: click
                            - source: view
                              markname: airport_name_legend_labels
                              type: click
                            - source: view
                              markname: airport_name_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_airport_name_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_0
                      update: vlSelectionResolve("legend_size_0_0_store", "union", true, true)
                    - name: legend_color_0_0
                      update: vlSelectionResolve("legend_color_0_0_store", "union", true, true)
                    - name: valueLabelsColor
                      value: black
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_airport_name_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_airport_name_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: airport_name
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            type: pointermove
                            consume: true
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: "[0, 0]"
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_airport_name
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                          update: '(!isArray(interval_selection_airport_name) || (invert("x",
                            interval_selection_x)[0] ===
                            interval_selection_airport_name[0] && invert("x",
                            interval_selection_x)[1] ===
                            interval_selection_airport_name[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_airport_name
                          update: 'interval_selection_airport_name ? {unit: "layer_0_layer_0_layer_0",
                            fields: interval_selection_tuple_fields, values:
                            [interval_selection_airport_name]} : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: airport_name
                          channel: x
                          type: E
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              type: pointermove
                              consume: true
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                    - name: legend_size_0_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 ? {unit: \"layer_0_layer_0_layer_1\",
                            fields: legend_size_0_0_tuple_fields, values: []} :
                            null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_0_tuple_fields
                      value: []
                    - name: legend_size_0_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_0_modify
                      on:
                        - events:
                            signal: legend_size_0_0_tuple
                          update: 'modify("legend_size_0_0_store", legend_size_0_0_toggle ? null :
                            legend_size_0_0_tuple, legend_size_0_0_toggle ? null
                            : true, legend_size_0_0_toggle ?
                            legend_size_0_0_tuple : null)'
                    - name: legend_color_0_0_tuple
                      update: "legend_color_0_0_airport_name_legend !== null ? {fields:
                        legend_color_0_0_tuple_fields, values:
                        [legend_color_0_0_airport_name_legend]} : null"
                    - name: legend_color_0_0_tuple_fields
                      value:
                        - field: airport_name
                          channel: color
                          type: E
                    - name: legend_color_0_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_0_modify
                      on:
                        - events:
                            signal: legend_color_0_0_tuple
                          update: 'modify("legend_color_0_0_store", legend_color_0_0_toggle ? null :
                            legend_color_0_0_tuple, legend_color_0_0_toggle ?
                            null : true, legend_color_0_0_toggle ?
                            legend_color_0_0_tuple : null)'
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        update:
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                        enter:
                          fill:
                            value: "#333"
                          fillOpacity:
                            value: 0.125
                      clip: true
                    - type: rect
                      name: layer_0_layer_0_layer_0_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          tooltip:
                            signal: '{"airport_name": isValid(datum["airport_name"]) ? datum["airport_name"]
                              : ""+datum["airport_name"], "Sum of
                              passengers_nb":
                              numberFormatFromNumberType(datum["sum_passengers_nb"],
                              {"decimals":null,"type":"default"})}'
                          opacity:
                            - value: 1
                              test: (!length(data("legend_size_0_store")) ||
                                vlSelectionTest("legend_size_0_store", datum))
                                && (!length(data("legend_color_0_store")) ||
                                vlSelectionTest("legend_color_0_store", datum))
                                && (!length(data("interval_selection_store")) ||
                                vlSelectionTest("interval_selection_store",
                                datum))
                            - value: 0.2
                          width:
                            signal: max(0.25, bandwidth('xOffset'))
                          y2:
                            value: 0
                            scale: y
                          y:
                            field: sum_passengers_nb
                            scale: y
                          fill:
                            field: airport_name
                            scale: layer_0_layer_0_color
                          x:
                            field: airport_name
                            scale: x
                            offset:
                              field: airport_name
                              scale: xOffset
                      clip: true
                      style:
                        - bar
                      interactive: true
                    - type: text
                      name: layer_0_layer_0_layer_1_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          dy:
                            value: -1
                          y:
                            field: sum_passengers_nb
                            scale: y
                          align:
                            value: center
                          dx:
                            value: 0
                          fill:
                            signal: valueLabelsColor
                          baseline:
                            value: bottom
                          text:
                            signal: format(datum["sum_passengers_nb"], "")
                          x:
                            field: airport_name
                            scale: x
                            offset:
                              field: airport_name
                              scale: xOffset
                              band: 0.5
                      interactive: true
                      style:
                        - text
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        enter:
                          cursor:
                            value: move
                          fill:
                            value: transparent
                        update:
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1]
                            - {}
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                  scales:
                    - name: x
                      type: band
                      domain:
                        data: source_0_x_domain_airport_name
                        field: airport_name
                      range:
                        - 0
                        - signal: width
                      paddingInner: 0.2
                      paddingOuter: 0.2
                    - name: y
                      type: linear
                      domain:
                        - signal: (data("source_0_y_domain_sum_passengers_nb")[0] || {}).min
                        - signal: (data("source_0_y_domain_sum_passengers_nb")[0] || {}).max
                      range:
                        - signal: height
                        - 0
                      nice: true
                      zero: true
                    - name: xOffset
                      type: band
                      domain:
                        data: source_0_xOffset_domain_airport_name
                        field: airport_name
                      range:
                        - 0
                        - signal: bandwidth('x')
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        data: source_0_layer_0_layer_0_color_domain_airport_name
                        field: airport_name
                      range:
                        scheme: deepnote10
                  axes:
                    - scale: y
                      tickCount: 5
                      orient: left
                      grid: true
                      domain: false
                      minExtent: 0
                      ticks: false
                      zindex: 0
                      maxExtent: 0
                      gridScale: x
                      labels: false
                      aria: false
                    - scale: x
                      grid: false
                      labelAngle: 270
                      labelBaseline: middle
                      labelAlign: right
                      orient: bottom
                      title: airport_name
                      zindex: 0
                    - scale: y
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                      tickCount: 5
                      zindex: 0
                      grid: false
                      orient: left
                      title: Sum of passengers_nb
                      labelOverlap: true
                  title:
                    text: "Aéroport ayant transporté le plus de passagers "
                    frame: group
                  usermeta:
                    seriesOrder:
                      - 0
                    seriesNames:
                      - passengers_nb
                    specSchemaVersion: 2
                    tooltipDefaultMode: true
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 3
                      columns:
                        - name: airport_code
                          nativeType: object
                          distinctValues:
                            - AMP
                            - FKT
                            - NSA
                        - name: airport_name
                          nativeType: object
                          distinctValues:
                            - Amazon Mothership
                            - Flocktopia
                            - Nestland Airport
                        - name: passengers_nb
                          nativeType: float64
                          distinctValues:
                            - 80033991
                            - 179064722
                            - 430959170
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  style: cell
                  legends:
                    - fill: layer_0_layer_0_color
                      symbolType: circle
                      title: airport_name
                      encode:
                        labels:
                          name: airport_name_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airport_name"]
                                  && indexof(legend_color_0["airport_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: airport_name_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airport_name"]
                                  && indexof(legend_color_0["airport_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: airport_name_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  background: white
                  padding: 5
                  autosize:
                    type: fit
                    contains: padding
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172c950250>
              metadata: {}
          sortingKey: xF
          type: visualization
        - blockGroup: 79dceb203845467084015e9f6e274cd0
          content: >-
            -- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE RECETTES PAR PSG/KM
            POUR CHAQUE COMPAGNIE AERIENNE ? 

            SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_AIRLINES
          executionCount: 7
          id: 78626db848b244c6a3ee05a342270d72
          metadata:
            execution_start: 1764524619078
            execution_millis: 2738
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_2
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 2091
                  compiled_query: |-
                    -- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE RECETTES PAR PSG/KM POUR CHAQUE COMPAGNIE AERIENNE ? 
                    SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_AIRLINES
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 7
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 5
                  columns:
                    - name: airline_code
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: AA
                            count: 3
                          - name: FA
                            count: 3
                          - name: GA
                            count: 3
                    - name: airline_name
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Amazon Airlines
                            count: 3
                          - name: Flock Air
                            count: 3
                          - name: Goose Airways
                            count: 3
                    - name: year
                      dtype: int64
                      stats:
                        unique_count: 2
                        nan_count: 0
                        min: "2015"
                        max: "2016"
                        histogram:
                          - bin_start: 2015
                            bin_end: 2015.1
                            count: 3
                          - bin_start: 2015.1
                            bin_end: 2015.2
                            count: 0
                          - bin_start: 2015.2
                            bin_end: 2015.3
                            count: 0
                          - bin_start: 2015.3
                            bin_end: 2015.4
                            count: 0
                          - bin_start: 2015.4
                            bin_end: 2015.5
                            count: 0
                          - bin_start: 2015.5
                            bin_end: 2015.6
                            count: 0
                          - bin_start: 2015.6
                            bin_end: 2015.7
                            count: 0
                          - bin_start: 2015.7
                            bin_end: 2015.8
                            count: 0
                          - bin_start: 2015.8
                            bin_end: 2015.9
                            count: 0
                          - bin_start: 2015.9
                            bin_end: 2016
                            count: 6
                        categories: null
                    - name: max_revenue
                      dtype: float64
                      stats:
                        unique_count: 9
                        nan_count: 0
                        min: "2792855.0"
                        max: "49260222.0"
                        histogram:
                          - bin_start: 2792855
                            bin_end: 7439591.7
                            count: 2
                          - bin_start: 7439591.7
                            bin_end: 12086328.4
                            count: 2
                          - bin_start: 12086328.4
                            bin_end: 16733065.100000001
                            count: 2
                          - bin_start: 16733065.100000001
                            bin_end: 21379801.8
                            count: 1
                          - bin_start: 21379801.8
                            bin_end: 26026538.5
                            count: 0
                          - bin_start: 26026538.5
                            bin_end: 30673275.200000003
                            count: 0
                          - bin_start: 30673275.200000003
                            bin_end: 35320011.900000006
                            count: 1
                          - bin_start: 35320011.900000006
                            bin_end: 39966748.6
                            count: 0
                          - bin_start: 39966748.6
                            bin_end: 44613485.300000004
                            count: 0
                          - bin_start: 44613485.300000004
                            bin_end: 49260222
                            count: 1
                        categories: null
                    - name: metrique
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Revenu Domestique
                            count: 3
                          - name: Revenu International
                            count: 3
                          - name: Revenu Total
                            count: 3
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 9
                  preview_row_count: 9
                  rows:
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2015
                      max_revenue: 9175044
                      metrique: Revenu Domestique
                      _deepnote_index_column: 0
                    - airline_code: FA
                      airline_name: Flock Air
                      year: 2016
                      max_revenue: 13405774
                      metrique: Revenu Domestique
                      _deepnote_index_column: 1
                    - airline_code: GA
                      airline_name: Goose Airways
                      year: 2016
                      max_revenue: 34637841
                      metrique: Revenu Domestique
                      _deepnote_index_column: 2
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2016
                      max_revenue: 2792855
                      metrique: Revenu International
                      _deepnote_index_column: 3
                    - airline_code: FA
                      airline_name: Flock Air
                      year: 2016
                      max_revenue: 3912894
                      metrique: Revenu International
                      _deepnote_index_column: 4
                    - airline_code: GA
                      airline_name: Goose Airways
                      year: 2015
                      max_revenue: 15219579
                      metrique: Revenu International
                      _deepnote_index_column: 5
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2015
                      max_revenue: 11912594
                      metrique: Revenu Total
                      _deepnote_index_column: 6
                    - airline_code: FA
                      airline_name: Flock Air
                      year: 2016
                      max_revenue: 17318668
                      metrique: Revenu Total
                      _deepnote_index_column: 7
                    - airline_code: GA
                      airline_name: Goose Airways
                      year: 2016
                      max_revenue: 49260222
                      metrique: Revenu Total
                      _deepnote_index_column: 8
                  type: dataframe
                text/plain: |2-
                    airline_code     airline_name  year  max_revenue              metrique
                  0           AA  Amazon Airlines  2015    9175044.0     Revenu Domestique
                  1           FA        Flock Air  2016   13405774.0     Revenu Domestique
                  2           GA    Goose Airways  2016   34637841.0     Revenu Domestique
                  3           AA  Amazon Airlines  2016    2792855.0  Revenu International
                  4           FA        Flock Air  2016    3912894.0  Revenu International
                  5           GA    Goose Airways  2015   15219579.0  Revenu International
                  6           AA  Amazon Airlines  2015   11912594.0          Revenu Total
                  7           FA        Flock Air  2016   17318668.0          Revenu Total
                  8           GA    Goose Airways  2016   49260222.0          Revenu Total
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>airline_code</th>
                        <th>airline_name</th>
                        <th>year</th>
                        <th>max_revenue</th>
                        <th>metrique</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2015</td>
                        <td>9175044.0</td>
                        <td>Revenu Domestique</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>13405774.0</td>
                        <td>Revenu Domestique</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2016</td>
                        <td>34637841.0</td>
                        <td>Revenu Domestique</td>
                      </tr>
                      <tr>
                        <th>3</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2016</td>
                        <td>2792855.0</td>
                        <td>Revenu International</td>
                      </tr>
                      <tr>
                        <th>4</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>3912894.0</td>
                        <td>Revenu International</td>
                      </tr>
                      <tr>
                        <th>5</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2015</td>
                        <td>15219579.0</td>
                        <td>Revenu International</td>
                      </tr>
                      <tr>
                        <th>6</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2015</td>
                        <td>11912594.0</td>
                        <td>Revenu Total</td>
                      </tr>
                      <tr>
                        <th>7</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>17318668.0</td>
                        <td>Revenu Total</td>
                      </tr>
                      <tr>
                        <th>8</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2016</td>
                        <td>49260222.0</td>
                        <td>Revenu Total</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: yU
          type: sql
        - blockGroup: b051d760b6b64c8bbf3a3506162024d7
          content: ""
          executionCount: 8
          id: 97fa1074aac74b928f3de8d95fc530dd
          metadata:
            execution_start: 1764524621859
            execution_millis: 1
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_chart_height: 614
            deepnote_variable_name: df_2
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: bar
                            tooltip: false
                          encoding:
                            x:
                              sort: null
                              type: nominal
                              field: airline_name
                              scale:
                                type: linear
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: max_revenue
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              aggregate: sum
                              formatType: numberFormatFromNumberType
                            color:
                              sort: null
                              type: nominal
                              field: metrique
                              scale:
                                scheme: category10
                            tooltip:
                              - type: quantitative
                                field: year
                                aggregate: sum
                            xOffset:
                              sort: null
                              type: nominal
                              field: metrique
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: La meilleure année en terme de recettes
              config:
                legend:
                  disable: false
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - max_revenue
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: false
          outputs:
            - output_type: execute_result
              execution_count: 8
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: source_0
                      values:
                        - airline_name: Amazon Airlines
                          metrique: Revenu Domestique
                          sum_max_revenue: 9175044
                          sum_year: 2015
                        - airline_name: Flock Air
                          metrique: Revenu Domestique
                          sum_max_revenue: 13405774
                          sum_year: 2016
                        - airline_name: Goose Airways
                          metrique: Revenu Domestique
                          sum_max_revenue: 34637841
                          sum_year: 2016
                        - airline_name: Amazon Airlines
                          metrique: Revenu International
                          sum_max_revenue: 2792855
                          sum_year: 2016
                        - airline_name: Flock Air
                          metrique: Revenu International
                          sum_max_revenue: 3912894
                          sum_year: 2016
                        - airline_name: Goose Airways
                          metrique: Revenu International
                          sum_max_revenue: 15219579
                          sum_year: 2015
                        - airline_name: Amazon Airlines
                          metrique: Revenu Total
                          sum_max_revenue: 11912594
                          sum_year: 2015
                        - airline_name: Flock Air
                          metrique: Revenu Total
                          sum_max_revenue: 17318668
                          sum_year: 2016
                        - airline_name: Goose Airways
                          metrique: Revenu Total
                          sum_max_revenue: 49260222
                          sum_year: 2016
                    - name: source_0_x_domain_airline_name
                      values:
                        - airline_name: Amazon Airlines
                        - airline_name: Flock Air
                        - airline_name: Goose Airways
                    - name: source_0_y_domain_sum_max_revenue
                      values:
                        - min: 2792855
                          max: 49260222
                    - name: source_0_xOffset_domain_metrique
                      values:
                        - metrique: Revenu Domestique
                        - metrique: Revenu International
                        - metrique: Revenu Total
                    - name: source_0_layer_0_layer_0_color_domain_metrique
                      values:
                        - metrique: Revenu Domestique
                        - metrique: Revenu International
                        - metrique: Revenu Total
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_metrique_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: metrique_legend_symbols
                              type: click
                            - source: view
                              markname: metrique_legend_labels
                              type: click
                            - source: view
                              markname: metrique_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_metrique_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_metrique_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_metrique_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: metrique
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            consume: true
                            type: pointermove
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: "[0, 0]"
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_airline_name
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                          update: '(!isArray(interval_selection_airline_name) || (invert("x",
                            interval_selection_x)[0] ===
                            interval_selection_airline_name[0] && invert("x",
                            interval_selection_x)[1] ===
                            interval_selection_airline_name[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_airline_name
                          update: 'interval_selection_airline_name ? {unit: "layer_0_layer_0_layer_0",
                            fields: interval_selection_tuple_fields, values:
                            [interval_selection_airline_name]} : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: airline_name
                          channel: x
                          type: E
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              type: pointermove
                              consume: true
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        update:
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                        enter:
                          fillOpacity:
                            value: 0.125
                          fill:
                            value: "#333"
                      clip: true
                    - type: rect
                      name: layer_0_layer_0_layer_0_marks
                      from:
                        data: source_0
                      encode:
                        update:
                          fill:
                            field: metrique
                            scale: layer_0_layer_0_color
                          tooltip:
                            signal: '{"Sum of year": format(datum["sum_year"], "")}'
                          x:
                            field: airline_name
                            scale: x
                            offset:
                              field: metrique
                              scale: xOffset
                          width:
                            signal: max(0.25, bandwidth('xOffset'))
                          y2:
                            value: 0
                            scale: y
                          y:
                            field: sum_max_revenue
                            scale: y
                          opacity:
                            - value: 1
                              test: (!length(data("legend_size_0_store")) ||
                                vlSelectionTest("legend_size_0_store", datum))
                                && (!length(data("legend_color_0_store")) ||
                                vlSelectionTest("legend_color_0_store", datum))
                                && (!length(data("interval_selection_store")) ||
                                vlSelectionTest("interval_selection_store",
                                datum))
                            - value: 0.2
                      clip: true
                      interactive: true
                      style:
                        - bar
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        update:
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1]
                            - {}
                          y2:
                            - field:
                                signal: null
                                datum: null
                                group: height
                                parent: null
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - value: 0
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                        enter:
                          fill:
                            value: transparent
                          cursor:
                            value: move
                      clip: true
                  scales:
                    - name: x
                      type: band
                      domain:
                        data: source_0_x_domain_airline_name
                        field: airline_name
                      range:
                        - 0
                        - signal: width
                      paddingInner: 0.2
                      paddingOuter: 0.2
                    - name: y
                      type: linear
                      domain:
                        - signal: (data("source_0_y_domain_sum_max_revenue")[0] || {}).min
                        - signal: (data("source_0_y_domain_sum_max_revenue")[0] || {}).max
                      range:
                        - signal: height
                        - 0
                      zero: true
                      nice: true
                    - name: xOffset
                      type: band
                      domain:
                        data: source_0_xOffset_domain_metrique
                        field: metrique
                      range:
                        - 0
                        - signal: bandwidth('x')
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        data: source_0_layer_0_layer_0_color_domain_metrique
                        field: metrique
                      range:
                        scheme: category10
                  axes:
                    - scale: y
                      domain: false
                      labels: false
                      grid: true
                      orient: left
                      zindex: 0
                      ticks: false
                      tickCount: 5
                      gridScale: x
                      aria: false
                      maxExtent: 0
                      minExtent: 0
                    - scale: x
                      orient: bottom
                      labelAlign: right
                      labelBaseline: middle
                      title: airline_name
                      labelAngle: 270
                      grid: false
                      zindex: 0
                    - scale: y
                      zindex: 0
                      title: Sum of max_revenue
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                      orient: left
                      labelOverlap: true
                      tickCount: 5
                      grid: false
                  title:
                    text: La meilleure année en terme de recettes
                    frame: group
                  usermeta:
                    specSchemaVersion: 2
                    seriesNames:
                      - max_revenue
                    seriesOrder:
                      - 0
                    tooltipDefaultMode: false
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 9
                      columns:
                        - name: airline_code
                          nativeType: object
                          distinctValues:
                            - AA
                            - FA
                            - GA
                        - name: airline_name
                          nativeType: object
                          distinctValues:
                            - Amazon Airlines
                            - Flock Air
                            - Goose Airways
                        - name: year
                          nativeType: int64
                          distinctValues:
                            - 2015
                            - 2016
                        - name: max_revenue
                          nativeType: float64
                          distinctValues:
                            - 2792855
                            - 3912894
                            - 9175044
                            - 11912594
                            - 13405774
                            - 15219579
                            - 17318668
                            - 34637841
                            - 49260222
                        - name: metrique
                          nativeType: object
                          distinctValues:
                            - Revenu Domestique
                            - Revenu International
                            - Revenu Total
                  legends:
                    - fill: layer_0_layer_0_color
                      symbolType: square
                      title: metrique
                      encode:
                        labels:
                          name: metrique_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["metrique"] &&
                                  indexof(legend_color_0["metrique"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: metrique_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["metrique"] &&
                                  indexof(legend_color_0["metrique"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: metrique_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  background: white
                  autosize:
                    type: fit
                    contains: padding
                  style: cell
                  padding: 5
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172c963ed0>
              metadata: {}
          sortingKey: yb
          type: visualization
        - blockGroup: 6f59ed2591a04e64a238450f533a52c6
          content: >-
            --- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE CROISSANCE PAR
            COMPAGNIE AERIENNE ?

            SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE_PER_YEAR
          executionCount: 9
          id: 2ce32d9237f646dfa8e51241d8e36638
          metadata:
            execution_start: 1764524621908
            execution_millis: 2703
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_6
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 7828
                  compiled_query: |-
                    --- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE CROISSANCE PAR COMPAGNIE AERIENNE ?
                    SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE_PER_YEAR
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 9
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 6
                  columns:
                    - name: airline_code
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: AA
                            count: 16
                          - name: FA
                            count: 16
                          - name: GA
                            count: 16
                    - name: airline_name
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Amazon Airlines
                            count: 16
                          - name: Flock Air
                            count: 16
                          - name: Goose Airways
                            count: 16
                    - name: year
                      dtype: int64
                      stats:
                        unique_count: 16
                        nan_count: 0
                        min: "2002"
                        max: "2017"
                        histogram:
                          - bin_start: 2002
                            bin_end: 2003.5
                            count: 6
                          - bin_start: 2003.5
                            bin_end: 2005
                            count: 3
                          - bin_start: 2005
                            bin_end: 2006.5
                            count: 6
                          - bin_start: 2006.5
                            bin_end: 2008
                            count: 3
                          - bin_start: 2008
                            bin_end: 2009.5
                            count: 6
                          - bin_start: 2009.5
                            bin_end: 2011
                            count: 3
                          - bin_start: 2011
                            bin_end: 2012.5
                            count: 6
                          - bin_start: 2012.5
                            bin_end: 2014
                            count: 3
                          - bin_start: 2014
                            bin_end: 2015.5
                            count: 6
                          - bin_start: 2015.5
                            bin_end: 2017
                            count: 6
                        categories: null
                    - name: avg_asm_domestic
                      dtype: float64
                      stats:
                        unique_count: 48
                        nan_count: 0
                        min: "194470.666667"
                        max: "1100639.5"
                        histogram:
                          - bin_start: 194470.666667
                            bin_end: 285087.5500003
                            count: 9
                          - bin_start: 285087.5500003
                            bin_end: 375704.4333336
                            count: 21
                          - bin_start: 375704.4333336
                            bin_end: 466321.31666689995
                            count: 2
                          - bin_start: 466321.31666689995
                            bin_end: 556938.2000002
                            count: 0
                          - bin_start: 556938.2000002
                            bin_end: 647555.0833335
                            count: 0
                          - bin_start: 647555.0833335
                            bin_end: 738171.9666668
                            count: 1
                          - bin_start: 738171.9666668
                            bin_end: 828788.8500001
                            count: 2
                          - bin_start: 828788.8500001
                            bin_end: 919405.7333334
                            count: 4
                          - bin_start: 919405.7333334
                            bin_end: 1010022.6166667
                            count: 5
                          - bin_start: 1010022.6166667
                            bin_end: 1100639.5
                            count: 4
                        categories: null
                    - name: previous_year
                      dtype: float64
                      stats:
                        unique_count: 45
                        nan_count: 3
                        min: "194470.666667"
                        max: "1100639.5"
                        histogram:
                          - bin_start: 194470.666667
                            bin_end: 285087.5500003
                            count: 8
                          - bin_start: 285087.5500003
                            bin_end: 375704.4333336
                            count: 21
                          - bin_start: 375704.4333336
                            bin_end: 466321.31666689995
                            count: 1
                          - bin_start: 466321.31666689995
                            bin_end: 556938.2000002
                            count: 0
                          - bin_start: 556938.2000002
                            bin_end: 647555.0833335
                            count: 0
                          - bin_start: 647555.0833335
                            bin_end: 738171.9666668
                            count: 1
                          - bin_start: 738171.9666668
                            bin_end: 828788.8500001
                            count: 2
                          - bin_start: 828788.8500001
                            bin_end: 919405.7333334
                            count: 4
                          - bin_start: 919405.7333334
                            bin_end: 1010022.6166667
                            count: 5
                          - bin_start: 1010022.6166667
                            bin_end: 1100639.5
                            count: 3
                        categories: null
                    - name: taux_croissance
                      dtype: float64
                      stats:
                        unique_count: 45
                        nan_count: 3
                        min: "-15.1"
                        max: "46.02"
                        histogram:
                          - bin_start: -15.1
                            bin_end: -8.988
                            count: 4
                          - bin_start: -8.988
                            bin_end: -2.8759999999999994
                            count: 11
                          - bin_start: -2.8759999999999994
                            bin_end: 3.235999999999999
                            count: 18
                          - bin_start: 3.235999999999999
                            bin_end: 9.348
                            count: 8
                          - bin_start: 9.348
                            bin_end: 15.460000000000003
                            count: 0
                          - bin_start: 15.460000000000003
                            bin_end: 21.571999999999996
                            count: 3
                          - bin_start: 21.571999999999996
                            bin_end: 27.683999999999997
                            count: 0
                          - bin_start: 27.683999999999997
                            bin_end: 33.796
                            count: 0
                          - bin_start: 33.796
                            bin_end: 39.908
                            count: 0
                          - bin_start: 39.908
                            bin_end: 46.02
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 48
                  preview_row_count: 48
                  rows:
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2002
                      avg_asm_domestic: 315931
                      previous_year: nan
                      taux_croissance: nan
                      _deepnote_index_column: 0
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2003
                      avg_asm_domestic: 295645.527778
                      previous_year: 315931
                      taux_croissance: -6.42
                      _deepnote_index_column: 1
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2004
                      avg_asm_domestic: 296641.388889
                      previous_year: 295645.527778
                      taux_croissance: 0.34
                      _deepnote_index_column: 2
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2005
                      avg_asm_domestic: 255289.083333
                      previous_year: 296641.388889
                      taux_croissance: -13.94
                      _deepnote_index_column: 3
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2006
                      avg_asm_domestic: 270788.361111
                      previous_year: 255289.083333
                      taux_croissance: 6.07
                      _deepnote_index_column: 4
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2007
                      avg_asm_domestic: 254119.055556
                      previous_year: 270788.361111
                      taux_croissance: -6.16
                      _deepnote_index_column: 5
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2008
                      avg_asm_domestic: 232021.277778
                      previous_year: 254119.055556
                      taux_croissance: -8.7
                      _deepnote_index_column: 6
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2009
                      avg_asm_domestic: 209025.555556
                      previous_year: 232021.277778
                      taux_croissance: -9.91
                      _deepnote_index_column: 7
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2010
                      avg_asm_domestic: 212045.722222
                      previous_year: 209025.555556
                      taux_croissance: 1.44
                      _deepnote_index_column: 8
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2011
                      avg_asm_domestic: 194470.666667
                      previous_year: 212045.722222
                      taux_croissance: -8.29
                      _deepnote_index_column: 9
                  type: dataframe
                text/plain: |2-
                     airline_code     airline_name  year  avg_asm_domestic  previous_year  \
                  0            AA  Amazon Airlines  2002      3.159310e+05            NaN   
                  1            AA  Amazon Airlines  2003      2.956455e+05   3.159310e+05   
                  2            AA  Amazon Airlines  2004      2.966414e+05   2.956455e+05   
                  3            AA  Amazon Airlines  2005      2.552891e+05   2.966414e+05   
                  4            AA  Amazon Airlines  2006      2.707884e+05   2.552891e+05   
                  5            AA  Amazon Airlines  2007      2.541191e+05   2.707884e+05   
                  6            AA  Amazon Airlines  2008      2.320213e+05   2.541191e+05   
                  7            AA  Amazon Airlines  2009      2.090256e+05   2.320213e+05   
                  8            AA  Amazon Airlines  2010      2.120457e+05   2.090256e+05   
                  9            AA  Amazon Airlines  2011      1.944707e+05   2.120457e+05   
                  10           AA  Amazon Airlines  2012      2.839749e+05   1.944707e+05   
                  11           AA  Amazon Airlines  2013      2.895528e+05   2.839749e+05   
                  12           AA  Amazon Airlines  2014      2.933624e+05   2.895528e+05   
                  13           AA  Amazon Airlines  2015      2.958225e+05   2.933624e+05   
                  14           AA  Amazon Airlines  2016      2.883079e+05   2.958225e+05   
                  15           AA  Amazon Airlines  2017      2.447851e+05   2.883079e+05   
                  16           FA        Flock Air  2002      3.481806e+05            NaN   
                  17           FA        Flock Air  2003      3.446903e+05   3.481806e+05   
                  18           FA        Flock Air  2004      3.694572e+05   3.446903e+05   
                  19           FA        Flock Air  2005      3.642353e+05   3.694572e+05   
                  20           FA        Flock Air  2006      3.669174e+05   3.642353e+05   
                  21           FA        Flock Air  2007      3.655115e+05   3.669174e+05   
                  22           FA        Flock Air  2008      3.433101e+05   3.655115e+05   
                  23           FA        Flock Air  2009      3.182092e+05   3.433101e+05   
                  24           FA        Flock Air  2010      3.162391e+05   3.182092e+05   
                  25           FA        Flock Air  2011      3.134350e+05   3.162391e+05   
                  26           FA        Flock Air  2012      3.263095e+05   3.134350e+05   
                  27           FA        Flock Air  2013      3.220488e+05   3.263095e+05   
                  28           FA        Flock Air  2014      3.182277e+05   3.220488e+05   
                  29           FA        Flock Air  2015      3.681956e+05   3.182277e+05   
                  30           FA        Flock Air  2016      4.272554e+05   3.681956e+05   
                  31           FA        Flock Air  2017      3.985589e+05   4.272554e+05   
                  32           GA    Goose Airways  2002      8.822396e+05            NaN   
                  33           GA    Goose Airways  2003      8.720812e+05   8.822396e+05   
                  34           GA    Goose Airways  2004      9.482737e+05   8.720812e+05   
                  35           GA    Goose Airways  2005      9.653565e+05   9.482737e+05   
                  36           GA    Goose Airways  2006      8.469208e+05   9.653565e+05   
                  37           GA    Goose Airways  2007      8.098469e+05   8.469208e+05   
                  38           GA    Goose Airways  2008      7.752910e+05   8.098469e+05   
                  39           GA    Goose Airways  2009      7.338404e+05   7.752910e+05   
                  40           GA    Goose Airways  2010      8.855228e+05   7.338404e+05   
                  41           GA    Goose Airways  2011      9.251899e+05   8.855228e+05   
                  42           GA    Goose Airways  2012      9.537402e+05   9.251899e+05   
                  43           GA    Goose Airways  2013      9.732773e+05   9.537402e+05   
                  44           GA    Goose Airways  2014      1.012109e+06   9.732773e+05   
                  45           GA    Goose Airways  2015      1.063976e+06   1.012109e+06   
                  46           GA    Goose Airways  2016      1.100640e+06   1.063976e+06   
                  47           GA    Goose Airways  2017      1.027202e+06   1.100640e+06   

                      taux_croissance  
                  0               NaN  
                  1             -6.42  
                  2              0.34  
                  3            -13.94  
                  4              6.07  
                  5             -6.16  
                  6             -8.70  
                  7             -9.91  
                  8              1.44  
                  9             -8.29  
                  10            46.02  
                  11             1.96  
                  12             1.32  
                  13             0.84  
                  14            -2.54  
                  15           -15.10  
                  16              NaN  
                  17            -1.00  
                  18             7.19  
                  19            -1.41  
                  20             0.74  
                  21            -0.38  
                  22            -6.07  
                  23            -7.31  
                  24            -0.62  
                  25            -0.89  
                  26             4.11  
                  27            -1.31  
                  28            -1.19  
                  29            15.70  
                  30            16.04  
                  31            -6.72  
                  32              NaN  
                  33            -1.15  
                  34             8.74  
                  35             1.80  
                  36           -12.27  
                  37            -4.38  
                  38            -4.27  
                  39            -5.35  
                  40            20.67  
                  41             4.48  
                  42             3.09  
                  43             2.05  
                  44             3.99  
                  45             5.12  
                  46             3.45  
                  47            -6.67  
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>airline_code</th>
                        <th>airline_name</th>
                        <th>year</th>
                        <th>avg_asm_domestic</th>
                        <th>previous_year</th>
                        <th>taux_croissance</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2002</td>
                        <td>3.159310e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2003</td>
                        <td>2.956455e+05</td>
                        <td>3.159310e+05</td>
                        <td>-6.42</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2004</td>
                        <td>2.966414e+05</td>
                        <td>2.956455e+05</td>
                        <td>0.34</td>
                      </tr>
                      <tr>
                        <th>3</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2005</td>
                        <td>2.552891e+05</td>
                        <td>2.966414e+05</td>
                        <td>-13.94</td>
                      </tr>
                      <tr>
                        <th>4</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2006</td>
                        <td>2.707884e+05</td>
                        <td>2.552891e+05</td>
                        <td>6.07</td>
                      </tr>
                      <tr>
                        <th>5</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2007</td>
                        <td>2.541191e+05</td>
                        <td>2.707884e+05</td>
                        <td>-6.16</td>
                      </tr>
                      <tr>
                        <th>6</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2008</td>
                        <td>2.320213e+05</td>
                        <td>2.541191e+05</td>
                        <td>-8.70</td>
                      </tr>
                      <tr>
                        <th>7</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2009</td>
                        <td>2.090256e+05</td>
                        <td>2.320213e+05</td>
                        <td>-9.91</td>
                      </tr>
                      <tr>
                        <th>8</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2010</td>
                        <td>2.120457e+05</td>
                        <td>2.090256e+05</td>
                        <td>1.44</td>
                      </tr>
                      <tr>
                        <th>9</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2011</td>
                        <td>1.944707e+05</td>
                        <td>2.120457e+05</td>
                        <td>-8.29</td>
                      </tr>
                      <tr>
                        <th>10</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2012</td>
                        <td>2.839749e+05</td>
                        <td>1.944707e+05</td>
                        <td>46.02</td>
                      </tr>
                      <tr>
                        <th>11</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2013</td>
                        <td>2.895528e+05</td>
                        <td>2.839749e+05</td>
                        <td>1.96</td>
                      </tr>
                      <tr>
                        <th>12</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2014</td>
                        <td>2.933624e+05</td>
                        <td>2.895528e+05</td>
                        <td>1.32</td>
                      </tr>
                      <tr>
                        <th>13</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2015</td>
                        <td>2.958225e+05</td>
                        <td>2.933624e+05</td>
                        <td>0.84</td>
                      </tr>
                      <tr>
                        <th>14</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2016</td>
                        <td>2.883079e+05</td>
                        <td>2.958225e+05</td>
                        <td>-2.54</td>
                      </tr>
                      <tr>
                        <th>15</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2017</td>
                        <td>2.447851e+05</td>
                        <td>2.883079e+05</td>
                        <td>-15.10</td>
                      </tr>
                      <tr>
                        <th>16</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2002</td>
                        <td>3.481806e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>17</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2003</td>
                        <td>3.446903e+05</td>
                        <td>3.481806e+05</td>
                        <td>-1.00</td>
                      </tr>
                      <tr>
                        <th>18</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2004</td>
                        <td>3.694572e+05</td>
                        <td>3.446903e+05</td>
                        <td>7.19</td>
                      </tr>
                      <tr>
                        <th>19</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2005</td>
                        <td>3.642353e+05</td>
                        <td>3.694572e+05</td>
                        <td>-1.41</td>
                      </tr>
                      <tr>
                        <th>20</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2006</td>
                        <td>3.669174e+05</td>
                        <td>3.642353e+05</td>
                        <td>0.74</td>
                      </tr>
                      <tr>
                        <th>21</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2007</td>
                        <td>3.655115e+05</td>
                        <td>3.669174e+05</td>
                        <td>-0.38</td>
                      </tr>
                      <tr>
                        <th>22</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2008</td>
                        <td>3.433101e+05</td>
                        <td>3.655115e+05</td>
                        <td>-6.07</td>
                      </tr>
                      <tr>
                        <th>23</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2009</td>
                        <td>3.182092e+05</td>
                        <td>3.433101e+05</td>
                        <td>-7.31</td>
                      </tr>
                      <tr>
                        <th>24</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2010</td>
                        <td>3.162391e+05</td>
                        <td>3.182092e+05</td>
                        <td>-0.62</td>
                      </tr>
                      <tr>
                        <th>25</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2011</td>
                        <td>3.134350e+05</td>
                        <td>3.162391e+05</td>
                        <td>-0.89</td>
                      </tr>
                      <tr>
                        <th>26</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2012</td>
                        <td>3.263095e+05</td>
                        <td>3.134350e+05</td>
                        <td>4.11</td>
                      </tr>
                      <tr>
                        <th>27</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2013</td>
                        <td>3.220488e+05</td>
                        <td>3.263095e+05</td>
                        <td>-1.31</td>
                      </tr>
                      <tr>
                        <th>28</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2014</td>
                        <td>3.182277e+05</td>
                        <td>3.220488e+05</td>
                        <td>-1.19</td>
                      </tr>
                      <tr>
                        <th>29</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2015</td>
                        <td>3.681956e+05</td>
                        <td>3.182277e+05</td>
                        <td>15.70</td>
                      </tr>
                      <tr>
                        <th>30</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>4.272554e+05</td>
                        <td>3.681956e+05</td>
                        <td>16.04</td>
                      </tr>
                      <tr>
                        <th>31</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2017</td>
                        <td>3.985589e+05</td>
                        <td>4.272554e+05</td>
                        <td>-6.72</td>
                      </tr>
                      <tr>
                        <th>32</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2002</td>
                        <td>8.822396e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>33</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2003</td>
                        <td>8.720812e+05</td>
                        <td>8.822396e+05</td>
                        <td>-1.15</td>
                      </tr>
                      <tr>
                        <th>34</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2004</td>
                        <td>9.482737e+05</td>
                        <td>8.720812e+05</td>
                        <td>8.74</td>
                      </tr>
                      <tr>
                        <th>35</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2005</td>
                        <td>9.653565e+05</td>
                        <td>9.482737e+05</td>
                        <td>1.80</td>
                      </tr>
                      <tr>
                        <th>36</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2006</td>
                        <td>8.469208e+05</td>
                        <td>9.653565e+05</td>
                        <td>-12.27</td>
                      </tr>
                      <tr>
                        <th>37</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2007</td>
                        <td>8.098469e+05</td>
                        <td>8.469208e+05</td>
                        <td>-4.38</td>
                      </tr>
                      <tr>
                        <th>38</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2008</td>
                        <td>7.752910e+05</td>
                        <td>8.098469e+05</td>
                        <td>-4.27</td>
                      </tr>
                      <tr>
                        <th>39</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2009</td>
                        <td>7.338404e+05</td>
                        <td>7.752910e+05</td>
                        <td>-5.35</td>
                      </tr>
                      <tr>
                        <th>40</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2010</td>
                        <td>8.855228e+05</td>
                        <td>7.338404e+05</td>
                        <td>20.67</td>
                      </tr>
                      <tr>
                        <th>41</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2011</td>
                        <td>9.251899e+05</td>
                        <td>8.855228e+05</td>
                        <td>4.48</td>
                      </tr>
                      <tr>
                        <th>42</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2012</td>
                        <td>9.537402e+05</td>
                        <td>9.251899e+05</td>
                        <td>3.09</td>
                      </tr>
                      <tr>
                        <th>43</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2013</td>
                        <td>9.732773e+05</td>
                        <td>9.537402e+05</td>
                        <td>2.05</td>
                      </tr>
                      <tr>
                        <th>44</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2014</td>
                        <td>1.012109e+06</td>
                        <td>9.732773e+05</td>
                        <td>3.99</td>
                      </tr>
                      <tr>
                        <th>45</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2015</td>
                        <td>1.063976e+06</td>
                        <td>1.012109e+06</td>
                        <td>5.12</td>
                      </tr>
                      <tr>
                        <th>46</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2016</td>
                        <td>1.100640e+06</td>
                        <td>1.063976e+06</td>
                        <td>3.45</td>
                      </tr>
                      <tr>
                        <th>47</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2017</td>
                        <td>1.027202e+06</td>
                        <td>1.100640e+06</td>
                        <td>-6.67</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: yf
          type: sql
        - blockGroup: 007793814c6e4530b3ebeb64f9fe0db3
          content: ""
          executionCount: 10
          id: 037a1ae8e7144cd999a513be6a7cd4ba
          metadata:
            execution_start: 1764524624658
            execution_millis: 72
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_6
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: line
                            tooltip: true
                          encoding:
                            x:
                              axis:
                                grid: false
                              sort: ascending
                              type: temporal
                              field: year
                              scale:
                                type: linear
                                zero: false
                              bandPosition: 0
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: avg_asm_domestic
                              scale:
                                type: linear
                                zero: false
                              format:
                                type: default
                                decimals: null
                              formatType: numberFormatFromNumberType
                            color:
                              sort: null
                              type: nominal
                              field: airline_name
                              scale:
                                scheme: deepnote10
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: Evolution annuelle de l'ASM moyen par compagnie aérienne
              config:
                legend:
                  disable: false
              params:
                - name: valueLabelsColor
                  value: black
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - avg_asm_domestic
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: true
          outputs:
            - output_type: execute_result
              execution_count: 10
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: source_0
                      values:
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 315931
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 0
                          year: 2002-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 295645.527778
                          previous_year: 315931
                          taux_croissance: -6.42
                          _deepnote_index_column: 1
                          year: 2003-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 296641.388889
                          previous_year: 295645.527778
                          taux_croissance: 0.34
                          _deepnote_index_column: 2
                          year: 2004-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 255289.083333
                          previous_year: 296641.388889
                          taux_croissance: -13.94
                          _deepnote_index_column: 3
                          year: 2005-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 270788.361111
                          previous_year: 255289.083333
                          taux_croissance: 6.07
                          _deepnote_index_column: 4
                          year: 2006-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 254119.055556
                          previous_year: 270788.361111
                          taux_croissance: -6.16
                          _deepnote_index_column: 5
                          year: 2007-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 232021.277778
                          previous_year: 254119.055556
                          taux_croissance: -8.7
                          _deepnote_index_column: 6
                          year: 2008-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 209025.555556
                          previous_year: 232021.277778
                          taux_croissance: -9.91
                          _deepnote_index_column: 7
                          year: 2009-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 212045.722222
                          previous_year: 209025.555556
                          taux_croissance: 1.44
                          _deepnote_index_column: 8
                          year: 2010-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 194470.666667
                          previous_year: 212045.722222
                          taux_croissance: -8.29
                          _deepnote_index_column: 9
                          year: 2011-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 283974.916667
                          previous_year: 194470.666667
                          taux_croissance: 46.02
                          _deepnote_index_column: 10
                          year: 2012-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 289552.805556
                          previous_year: 283974.916667
                          taux_croissance: 1.96
                          _deepnote_index_column: 11
                          year: 2013-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 293362.388889
                          previous_year: 289552.805556
                          taux_croissance: 1.32
                          _deepnote_index_column: 12
                          year: 2014-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 295822.5
                          previous_year: 293362.388889
                          taux_croissance: 0.84
                          _deepnote_index_column: 13
                          year: 2015-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 288307.916667
                          previous_year: 295822.5
                          taux_croissance: -2.54
                          _deepnote_index_column: 14
                          year: 2016-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 244785.111111
                          previous_year: 288307.916667
                          taux_croissance: -15.1
                          _deepnote_index_column: 15
                          year: 2017-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 348180.555556
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 16
                          year: 2002-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 344690.277778
                          previous_year: 348180.555556
                          taux_croissance: -1
                          _deepnote_index_column: 17
                          year: 2003-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 369457.194444
                          previous_year: 344690.277778
                          taux_croissance: 7.19
                          _deepnote_index_column: 18
                          year: 2004-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 364235.277778
                          previous_year: 369457.194444
                          taux_croissance: -1.41
                          _deepnote_index_column: 19
                          year: 2005-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 366917.388889
                          previous_year: 364235.277778
                          taux_croissance: 0.74
                          _deepnote_index_column: 20
                          year: 2006-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 365511.527778
                          previous_year: 366917.388889
                          taux_croissance: -0.38
                          _deepnote_index_column: 21
                          year: 2007-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 343310.138889
                          previous_year: 365511.527778
                          taux_croissance: -6.07
                          _deepnote_index_column: 22
                          year: 2008-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 318209.194444
                          previous_year: 343310.138889
                          taux_croissance: -7.31
                          _deepnote_index_column: 23
                          year: 2009-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 316239.055556
                          previous_year: 318209.194444
                          taux_croissance: -0.62
                          _deepnote_index_column: 24
                          year: 2010-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 313434.972222
                          previous_year: 316239.055556
                          taux_croissance: -0.89
                          _deepnote_index_column: 25
                          year: 2011-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 326309.472222
                          previous_year: 313434.972222
                          taux_croissance: 4.11
                          _deepnote_index_column: 26
                          year: 2012-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 322048.805556
                          previous_year: 326309.472222
                          taux_croissance: -1.31
                          _deepnote_index_column: 27
                          year: 2013-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 318227.666667
                          previous_year: 322048.805556
                          taux_croissance: -1.19
                          _deepnote_index_column: 28
                          year: 2014-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 368195.583333
                          previous_year: 318227.666667
                          taux_croissance: 15.7
                          _deepnote_index_column: 29
                          year: 2015-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 427255.416667
                          previous_year: 368195.583333
                          taux_croissance: 16.04
                          _deepnote_index_column: 30
                          year: 2016-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 398558.888889
                          previous_year: 427255.416667
                          taux_croissance: -6.72
                          _deepnote_index_column: 31
                          year: 2017-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 882239.555556
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 32
                          year: 2002-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 872081.222222
                          previous_year: 882239.555556
                          taux_croissance: -1.15
                          _deepnote_index_column: 33
                          year: 2003-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 948273.722222
                          previous_year: 872081.222222
                          taux_croissance: 8.74
                          _deepnote_index_column: 34
                          year: 2004-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 965356.527778
                          previous_year: 948273.722222
                          taux_croissance: 1.8
                          _deepnote_index_column: 35
                          year: 2005-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 846920.777778
                          previous_year: 965356.527778
                          taux_croissance: -12.27
                          _deepnote_index_column: 36
                          year: 2006-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 809846.916667
                          previous_year: 846920.777778
                          taux_croissance: -4.38
                          _deepnote_index_column: 37
                          year: 2007-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 775290.972222
                          previous_year: 809846.916667
                          taux_croissance: -4.27
                          _deepnote_index_column: 38
                          year: 2008-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 733840.361111
                          previous_year: 775290.972222
                          taux_croissance: -5.35
                          _deepnote_index_column: 39
                          year: 2009-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 885522.777778
                          previous_year: 733840.361111
                          taux_croissance: 20.67
                          _deepnote_index_column: 40
                          year: 2010-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 925189.916667
                          previous_year: 885522.777778
                          taux_croissance: 4.48
                          _deepnote_index_column: 41
                          year: 2011-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 953740.25
                          previous_year: 925189.916667
                          taux_croissance: 3.09
                          _deepnote_index_column: 42
                          year: 2012-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 973277.277778
                          previous_year: 953740.25
                          taux_croissance: 2.05
                          _deepnote_index_column: 43
                          year: 2013-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1012108.611111
                          previous_year: 973277.277778
                          taux_croissance: 3.99
                          _deepnote_index_column: 44
                          year: 2014-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1063976.222222
                          previous_year: 1012108.611111
                          taux_croissance: 5.12
                          _deepnote_index_column: 45
                          year: 2015-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1100639.5
                          previous_year: 1063976.222222
                          taux_croissance: 3.45
                          _deepnote_index_column: 46
                          year: 2016-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1027202
                          previous_year: 1100639.5
                          taux_croissance: -6.67
                          _deepnote_index_column: 47
                          year: 2017-01-01T00:00:00.000
                      transform:
                        - type: formula
                          expr: toDate(datum['year'])
                          as: year
                    - name: source_0_y_domain_avg_asm_domestic
                      values:
                        - min: 194470.666667
                          max: 1100639.5
                    - name: source_0_layer_0_layer_0_color_domain_airline_name
                      values:
                        - airline_name: Amazon Airlines
                        - airline_name: Flock Air
                        - airline_name: Goose Airways
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_airline_name_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: airline_name_legend_symbols
                              type: click
                            - source: view
                              markname: airline_name_legend_labels
                              type: click
                            - source: view
                              markname: airline_name_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_airline_name_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: valueLabelsColor
                      value: black
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_airline_name_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_airline_name_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: airline_name
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            type: pointermove
                            consume: true
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: '[scale("x", interval_selection_year[0]), scale("x",
                            interval_selection_year[1])]'
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_year
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_y
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[y(unit), y(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            type: pointermove
                            consume: true
                          update: "[interval_selection_y[0], clamp(y(unit), 0, height)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: '[scale("y", interval_selection_avg_asm_domestic[0]), scale("y",
                            interval_selection_avg_asm_domestic[1])]'
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_y,
                            interval_selection_translate_delta.y /
                            span(interval_selection_translate_anchor.extent_y)),
                            0, height)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_y,
                            interval_selection_zoom_anchor.y,
                            interval_selection_zoom_delta), 0, height)
                    - name: interval_selection_avg_asm_domestic
                      on:
                        - events:
                            signal: interval_selection_y
                          update: 'interval_selection_y[0] === interval_selection_y[1] ? null :
                            invert("y", interval_selection_y)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                            - scale: y
                          update: '(!isArray(interval_selection_year) || (+invert("x",
                            interval_selection_x)[0] ===
                            +interval_selection_year[0] && +invert("x",
                            interval_selection_x)[1] ===
                            +interval_selection_year[1])) &&
                            (!isArray(interval_selection_avg_asm_domestic) ||
                            (+invert("y", interval_selection_y)[0] ===
                            +interval_selection_avg_asm_domestic[0] &&
                            +invert("y", interval_selection_y)[1] ===
                            +interval_selection_avg_asm_domestic[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_year || interval_selection_avg_asm_domestic
                          update: 'interval_selection_year && interval_selection_avg_asm_domestic ? {unit:
                            "layer_0_layer_0_layer_0", fields:
                            interval_selection_tuple_fields, values:
                            [interval_selection_year,interval_selection_avg_asm_domestic]}
                            : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: year
                          channel: x
                          type: R
                        - field: avg_asm_domestic
                          channel: y
                          type: R
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x),
                            extent_y: slice(interval_selection_y)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              type: pointermove
                              consume: true
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        enter:
                          fill:
                            value: "#333"
                          fillOpacity:
                            value: 0.125
                        update:
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                    - type: group
                      name: layer_0_layer_0_layer_0_pathgroup
                      from:
                        facet:
                          data: source_0
                          name: faceted_path_layer_0_layer_0_layer_0_main
                          groupby:
                            - airline_name
                      encode:
                        update:
                          width:
                            field:
                              signal: null
                              datum: null
                              group: width
                              parent: null
                          height:
                            field:
                              signal: null
                              datum: null
                              group: height
                              parent: null
                      marks:
                        - type: line
                          name: layer_0_layer_0_layer_0_marks
                          from:
                            data: faceted_path_layer_0_layer_0_layer_0_main
                          sort:
                            field: x
                          encode:
                            update:
                              opacity:
                                - value: 1
                                  test: (!length(data("legend_size_0_store")) ||
                                    vlSelectionTest("legend_size_0_store",
                                    datum)) &&
                                    (!length(data("legend_color_0_store")) ||
                                    vlSelectionTest("legend_color_0_store",
                                    datum))
                                - value: 0.2
                              x:
                                field: year
                                scale: x
                              tooltip:
                                signal: "{\"year\": timeFormat(datum[\"year\"], '%b %d, %Y'),
                                  \"avg_asm_domestic\":
                                  numberFormatFromNumberType(datum[\"avg_asm_do\
                                  mestic\"],
                                  {\"decimals\":null,\"type\":\"default\"}),
                                  \"airline_name\":
                                  isValid(datum[\"airline_name\"]) ?
                                  datum[\"airline_name\"] :
                                  \"\"+datum[\"airline_name\"]}"
                              stroke:
                                field: airline_name
                                scale: layer_0_layer_0_color
                              y:
                                field: avg_asm_domestic
                                scale: y
                              defined:
                                signal: isValid(datum["year"]) && isFinite(+datum["year"]) &&
                                  isValid(datum["avg_asm_domestic"]) &&
                                  isFinite(+datum["avg_asm_domestic"])
                          interactive: true
                          style:
                            - line
                          clip: true
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        enter:
                          fill:
                            value: transparent
                          cursor:
                            value: move
                        update:
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1] &&
                                interval_selection_y[0] !==
                                interval_selection_y[1]
                            - {}
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                  scales:
                    - name: x
                      type: time
                      domain:
                        data: source_0
                        field: year
                      range:
                        - 0
                        - signal: width
                    - name: y
                      type: linear
                      domain:
                        - signal: (data("source_0_y_domain_avg_asm_domestic")[0] || {}).min
                        - signal: (data("source_0_y_domain_avg_asm_domestic")[0] || {}).max
                      range:
                        - signal: height
                        - 0
                      nice: true
                      zero: false
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        data: source_0_layer_0_layer_0_color_domain_airline_name
                        field: airline_name
                      range:
                        scheme: deepnote10
                  axes:
                    - scale: y
                      grid: true
                      orient: left
                      labels: false
                      tickCount: 5
                      aria: false
                      domain: false
                      minExtent: 0
                      gridScale: x
                      ticks: false
                      zindex: 0
                      maxExtent: 0
                    - scale: x
                      labelFlush: true
                      title: year
                      labelOverlap: true
                      grid: false
                      tickCount:
                        signal: ceil(width/40)
                      zindex: 0
                      orient: bottom
                    - scale: y
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                      zindex: 0
                      grid: false
                      orient: left
                      title: avg_asm_domestic
                      labelOverlap: true
                      tickCount: 5
                  title:
                    text: Evolution annuelle de l'ASM moyen par compagnie aérienne
                    frame: group
                  usermeta:
                    seriesNames:
                      - avg_asm_domestic
                    seriesOrder:
                      - 0
                    specSchemaVersion: 2
                    tooltipDefaultMode: true
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 48
                      columns:
                        - name: airline_code
                          nativeType: object
                          distinctValues:
                            - AA
                            - FA
                            - GA
                        - name: airline_name
                          nativeType: object
                          distinctValues:
                            - Amazon Airlines
                            - Flock Air
                            - Goose Airways
                        - name: year
                          nativeType: int64
                          distinctValues:
                            - 2002
                            - 2003
                            - 2004
                            - 2005
                            - 2006
                            - 2007
                            - 2008
                            - 2009
                            - 2010
                            - 2011
                            - 2012
                            - 2013
                            - 2014
                            - 2015
                            - 2016
                            - 2017
                        - name: avg_asm_domestic
                          nativeType: float64
                          distinctValues:
                            - 194470.666667
                            - 209025.555556
                            - 212045.722222
                            - 232021.277778
                            - 244785.111111
                            - 254119.055556
                            - 255289.083333
                            - 270788.361111
                            - 283974.916667
                            - 288307.916667
                            - 289552.805556
                            - 293362.388889
                            - 295645.527778
                            - 295822.5
                            - 296641.388889
                            - 313434.972222
                            - 315931
                            - 316239.055556
                            - 318209.194444
                            - 318227.666667
                            - 322048.805556
                            - 326309.472222
                            - 343310.138889
                            - 344690.277778
                            - 348180.555556
                            - 364235.277778
                            - 365511.527778
                            - 366917.388889
                            - 368195.583333
                            - 369457.194444
                        - name: previous_year
                          nativeType: float64
                          distinctValues:
                            - 194470.666667
                            - 209025.555556
                            - 212045.722222
                            - 232021.277778
                            - 254119.055556
                            - 255289.083333
                            - 270788.361111
                            - 283974.916667
                            - 288307.916667
                            - 289552.805556
                            - 293362.388889
                            - 295645.527778
                            - 295822.5
                            - 296641.388889
                            - 313434.972222
                            - 315931
                            - 316239.055556
                            - 318209.194444
                            - 318227.666667
                            - 322048.805556
                            - 326309.472222
                            - 343310.138889
                            - 344690.277778
                            - 348180.555556
                            - 364235.277778
                            - 365511.527778
                            - 366917.388889
                            - 368195.583333
                            - 369457.194444
                            - 427255.416667
                        - name: taux_croissance
                          nativeType: float64
                          distinctValues:
                            - -15.1
                            - -13.94
                            - -9.91
                            - -8.7
                            - -8.29
                            - -7.31
                            - -6.72
                            - -6.42
                            - -6.16
                            - -6.07
                            - -2.54
                            - -1.41
                            - -1.31
                            - -1.19
                            - -1
                            - -0.89
                            - -0.62
                            - -0.38
                            - 0.34
                            - 0.74
                            - 0.84
                            - 1.32
                            - 1.44
                            - 1.96
                            - 4.11
                            - 6.07
                            - 7.19
                            - 15.7
                            - 16.04
                            - 46.02
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  legends:
                    - stroke: layer_0_layer_0_color
                      symbolType: stroke
                      title: airline_name
                      encode:
                        labels:
                          name: airline_name_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airline_name"]
                                  && indexof(legend_color_0["airline_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: airline_name_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airline_name"]
                                  && indexof(legend_color_0["airline_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: airline_name_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  background: white
                  autosize:
                    type: fit
                    contains: padding
                  style: cell
                  padding: 5
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172c957610>
              metadata: {}
          sortingKey: yh
          type: visualization
        - blockGroup: 056d68ec3f65400091c1aba188b3dc7d
          content: >-
            --- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE CROISSANCE PAR
            COMPAGNIE AERIENNE ?

            SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE_PER_YEAR
          executionCount: 11
          id: fb5e1311d6f34c7bbf3d0c5b8340a0a5
          metadata:
            execution_start: 1764524624778
            execution_millis: 2350
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_3
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 7828
                  compiled_query: |-
                    --- QUELLE A ETE LA MEILLEURE ANNEE EN TERME DE CROISSANCE PAR COMPAGNIE AERIENNE ?
                    SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE_PER_YEAR
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 11
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 6
                  columns:
                    - name: airline_code
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: AA
                            count: 16
                          - name: FA
                            count: 16
                          - name: GA
                            count: 16
                    - name: airline_name
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Amazon Airlines
                            count: 16
                          - name: Flock Air
                            count: 16
                          - name: Goose Airways
                            count: 16
                    - name: year
                      dtype: int64
                      stats:
                        unique_count: 16
                        nan_count: 0
                        min: "2002"
                        max: "2017"
                        histogram:
                          - bin_start: 2002
                            bin_end: 2003.5
                            count: 6
                          - bin_start: 2003.5
                            bin_end: 2005
                            count: 3
                          - bin_start: 2005
                            bin_end: 2006.5
                            count: 6
                          - bin_start: 2006.5
                            bin_end: 2008
                            count: 3
                          - bin_start: 2008
                            bin_end: 2009.5
                            count: 6
                          - bin_start: 2009.5
                            bin_end: 2011
                            count: 3
                          - bin_start: 2011
                            bin_end: 2012.5
                            count: 6
                          - bin_start: 2012.5
                            bin_end: 2014
                            count: 3
                          - bin_start: 2014
                            bin_end: 2015.5
                            count: 6
                          - bin_start: 2015.5
                            bin_end: 2017
                            count: 6
                        categories: null
                    - name: avg_asm_domestic
                      dtype: float64
                      stats:
                        unique_count: 48
                        nan_count: 0
                        min: "194470.666667"
                        max: "1100639.5"
                        histogram:
                          - bin_start: 194470.666667
                            bin_end: 285087.5500003
                            count: 9
                          - bin_start: 285087.5500003
                            bin_end: 375704.4333336
                            count: 21
                          - bin_start: 375704.4333336
                            bin_end: 466321.31666689995
                            count: 2
                          - bin_start: 466321.31666689995
                            bin_end: 556938.2000002
                            count: 0
                          - bin_start: 556938.2000002
                            bin_end: 647555.0833335
                            count: 0
                          - bin_start: 647555.0833335
                            bin_end: 738171.9666668
                            count: 1
                          - bin_start: 738171.9666668
                            bin_end: 828788.8500001
                            count: 2
                          - bin_start: 828788.8500001
                            bin_end: 919405.7333334
                            count: 4
                          - bin_start: 919405.7333334
                            bin_end: 1010022.6166667
                            count: 5
                          - bin_start: 1010022.6166667
                            bin_end: 1100639.5
                            count: 4
                        categories: null
                    - name: previous_year
                      dtype: float64
                      stats:
                        unique_count: 45
                        nan_count: 3
                        min: "194470.666667"
                        max: "1100639.5"
                        histogram:
                          - bin_start: 194470.666667
                            bin_end: 285087.5500003
                            count: 8
                          - bin_start: 285087.5500003
                            bin_end: 375704.4333336
                            count: 21
                          - bin_start: 375704.4333336
                            bin_end: 466321.31666689995
                            count: 1
                          - bin_start: 466321.31666689995
                            bin_end: 556938.2000002
                            count: 0
                          - bin_start: 556938.2000002
                            bin_end: 647555.0833335
                            count: 0
                          - bin_start: 647555.0833335
                            bin_end: 738171.9666668
                            count: 1
                          - bin_start: 738171.9666668
                            bin_end: 828788.8500001
                            count: 2
                          - bin_start: 828788.8500001
                            bin_end: 919405.7333334
                            count: 4
                          - bin_start: 919405.7333334
                            bin_end: 1010022.6166667
                            count: 5
                          - bin_start: 1010022.6166667
                            bin_end: 1100639.5
                            count: 3
                        categories: null
                    - name: taux_croissance
                      dtype: float64
                      stats:
                        unique_count: 45
                        nan_count: 3
                        min: "-15.1"
                        max: "46.02"
                        histogram:
                          - bin_start: -15.1
                            bin_end: -8.988
                            count: 4
                          - bin_start: -8.988
                            bin_end: -2.8759999999999994
                            count: 11
                          - bin_start: -2.8759999999999994
                            bin_end: 3.235999999999999
                            count: 18
                          - bin_start: 3.235999999999999
                            bin_end: 9.348
                            count: 8
                          - bin_start: 9.348
                            bin_end: 15.460000000000003
                            count: 0
                          - bin_start: 15.460000000000003
                            bin_end: 21.571999999999996
                            count: 3
                          - bin_start: 21.571999999999996
                            bin_end: 27.683999999999997
                            count: 0
                          - bin_start: 27.683999999999997
                            bin_end: 33.796
                            count: 0
                          - bin_start: 33.796
                            bin_end: 39.908
                            count: 0
                          - bin_start: 39.908
                            bin_end: 46.02
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 48
                  preview_row_count: 48
                  rows:
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2002
                      avg_asm_domestic: 315931
                      previous_year: nan
                      taux_croissance: nan
                      _deepnote_index_column: 0
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2003
                      avg_asm_domestic: 295645.527778
                      previous_year: 315931
                      taux_croissance: -6.42
                      _deepnote_index_column: 1
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2004
                      avg_asm_domestic: 296641.388889
                      previous_year: 295645.527778
                      taux_croissance: 0.34
                      _deepnote_index_column: 2
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2005
                      avg_asm_domestic: 255289.083333
                      previous_year: 296641.388889
                      taux_croissance: -13.94
                      _deepnote_index_column: 3
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2006
                      avg_asm_domestic: 270788.361111
                      previous_year: 255289.083333
                      taux_croissance: 6.07
                      _deepnote_index_column: 4
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2007
                      avg_asm_domestic: 254119.055556
                      previous_year: 270788.361111
                      taux_croissance: -6.16
                      _deepnote_index_column: 5
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2008
                      avg_asm_domestic: 232021.277778
                      previous_year: 254119.055556
                      taux_croissance: -8.7
                      _deepnote_index_column: 6
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2009
                      avg_asm_domestic: 209025.555556
                      previous_year: 232021.277778
                      taux_croissance: -9.91
                      _deepnote_index_column: 7
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2010
                      avg_asm_domestic: 212045.722222
                      previous_year: 209025.555556
                      taux_croissance: 1.44
                      _deepnote_index_column: 8
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      year: 2011
                      avg_asm_domestic: 194470.666667
                      previous_year: 212045.722222
                      taux_croissance: -8.29
                      _deepnote_index_column: 9
                  type: dataframe
                text/plain: |2-
                     airline_code     airline_name  year  avg_asm_domestic  previous_year  \
                  0            AA  Amazon Airlines  2002      3.159310e+05            NaN   
                  1            AA  Amazon Airlines  2003      2.956455e+05   3.159310e+05   
                  2            AA  Amazon Airlines  2004      2.966414e+05   2.956455e+05   
                  3            AA  Amazon Airlines  2005      2.552891e+05   2.966414e+05   
                  4            AA  Amazon Airlines  2006      2.707884e+05   2.552891e+05   
                  5            AA  Amazon Airlines  2007      2.541191e+05   2.707884e+05   
                  6            AA  Amazon Airlines  2008      2.320213e+05   2.541191e+05   
                  7            AA  Amazon Airlines  2009      2.090256e+05   2.320213e+05   
                  8            AA  Amazon Airlines  2010      2.120457e+05   2.090256e+05   
                  9            AA  Amazon Airlines  2011      1.944707e+05   2.120457e+05   
                  10           AA  Amazon Airlines  2012      2.839749e+05   1.944707e+05   
                  11           AA  Amazon Airlines  2013      2.895528e+05   2.839749e+05   
                  12           AA  Amazon Airlines  2014      2.933624e+05   2.895528e+05   
                  13           AA  Amazon Airlines  2015      2.958225e+05   2.933624e+05   
                  14           AA  Amazon Airlines  2016      2.883079e+05   2.958225e+05   
                  15           AA  Amazon Airlines  2017      2.447851e+05   2.883079e+05   
                  16           FA        Flock Air  2002      3.481806e+05            NaN   
                  17           FA        Flock Air  2003      3.446903e+05   3.481806e+05   
                  18           FA        Flock Air  2004      3.694572e+05   3.446903e+05   
                  19           FA        Flock Air  2005      3.642353e+05   3.694572e+05   
                  20           FA        Flock Air  2006      3.669174e+05   3.642353e+05   
                  21           FA        Flock Air  2007      3.655115e+05   3.669174e+05   
                  22           FA        Flock Air  2008      3.433101e+05   3.655115e+05   
                  23           FA        Flock Air  2009      3.182092e+05   3.433101e+05   
                  24           FA        Flock Air  2010      3.162391e+05   3.182092e+05   
                  25           FA        Flock Air  2011      3.134350e+05   3.162391e+05   
                  26           FA        Flock Air  2012      3.263095e+05   3.134350e+05   
                  27           FA        Flock Air  2013      3.220488e+05   3.263095e+05   
                  28           FA        Flock Air  2014      3.182277e+05   3.220488e+05   
                  29           FA        Flock Air  2015      3.681956e+05   3.182277e+05   
                  30           FA        Flock Air  2016      4.272554e+05   3.681956e+05   
                  31           FA        Flock Air  2017      3.985589e+05   4.272554e+05   
                  32           GA    Goose Airways  2002      8.822396e+05            NaN   
                  33           GA    Goose Airways  2003      8.720812e+05   8.822396e+05   
                  34           GA    Goose Airways  2004      9.482737e+05   8.720812e+05   
                  35           GA    Goose Airways  2005      9.653565e+05   9.482737e+05   
                  36           GA    Goose Airways  2006      8.469208e+05   9.653565e+05   
                  37           GA    Goose Airways  2007      8.098469e+05   8.469208e+05   
                  38           GA    Goose Airways  2008      7.752910e+05   8.098469e+05   
                  39           GA    Goose Airways  2009      7.338404e+05   7.752910e+05   
                  40           GA    Goose Airways  2010      8.855228e+05   7.338404e+05   
                  41           GA    Goose Airways  2011      9.251899e+05   8.855228e+05   
                  42           GA    Goose Airways  2012      9.537402e+05   9.251899e+05   
                  43           GA    Goose Airways  2013      9.732773e+05   9.537402e+05   
                  44           GA    Goose Airways  2014      1.012109e+06   9.732773e+05   
                  45           GA    Goose Airways  2015      1.063976e+06   1.012109e+06   
                  46           GA    Goose Airways  2016      1.100640e+06   1.063976e+06   
                  47           GA    Goose Airways  2017      1.027202e+06   1.100640e+06   

                      taux_croissance  
                  0               NaN  
                  1             -6.42  
                  2              0.34  
                  3            -13.94  
                  4              6.07  
                  5             -6.16  
                  6             -8.70  
                  7             -9.91  
                  8              1.44  
                  9             -8.29  
                  10            46.02  
                  11             1.96  
                  12             1.32  
                  13             0.84  
                  14            -2.54  
                  15           -15.10  
                  16              NaN  
                  17            -1.00  
                  18             7.19  
                  19            -1.41  
                  20             0.74  
                  21            -0.38  
                  22            -6.07  
                  23            -7.31  
                  24            -0.62  
                  25            -0.89  
                  26             4.11  
                  27            -1.31  
                  28            -1.19  
                  29            15.70  
                  30            16.04  
                  31            -6.72  
                  32              NaN  
                  33            -1.15  
                  34             8.74  
                  35             1.80  
                  36           -12.27  
                  37            -4.38  
                  38            -4.27  
                  39            -5.35  
                  40            20.67  
                  41             4.48  
                  42             3.09  
                  43             2.05  
                  44             3.99  
                  45             5.12  
                  46             3.45  
                  47            -6.67  
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>airline_code</th>
                        <th>airline_name</th>
                        <th>year</th>
                        <th>avg_asm_domestic</th>
                        <th>previous_year</th>
                        <th>taux_croissance</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2002</td>
                        <td>3.159310e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2003</td>
                        <td>2.956455e+05</td>
                        <td>3.159310e+05</td>
                        <td>-6.42</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2004</td>
                        <td>2.966414e+05</td>
                        <td>2.956455e+05</td>
                        <td>0.34</td>
                      </tr>
                      <tr>
                        <th>3</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2005</td>
                        <td>2.552891e+05</td>
                        <td>2.966414e+05</td>
                        <td>-13.94</td>
                      </tr>
                      <tr>
                        <th>4</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2006</td>
                        <td>2.707884e+05</td>
                        <td>2.552891e+05</td>
                        <td>6.07</td>
                      </tr>
                      <tr>
                        <th>5</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2007</td>
                        <td>2.541191e+05</td>
                        <td>2.707884e+05</td>
                        <td>-6.16</td>
                      </tr>
                      <tr>
                        <th>6</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2008</td>
                        <td>2.320213e+05</td>
                        <td>2.541191e+05</td>
                        <td>-8.70</td>
                      </tr>
                      <tr>
                        <th>7</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2009</td>
                        <td>2.090256e+05</td>
                        <td>2.320213e+05</td>
                        <td>-9.91</td>
                      </tr>
                      <tr>
                        <th>8</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2010</td>
                        <td>2.120457e+05</td>
                        <td>2.090256e+05</td>
                        <td>1.44</td>
                      </tr>
                      <tr>
                        <th>9</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2011</td>
                        <td>1.944707e+05</td>
                        <td>2.120457e+05</td>
                        <td>-8.29</td>
                      </tr>
                      <tr>
                        <th>10</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2012</td>
                        <td>2.839749e+05</td>
                        <td>1.944707e+05</td>
                        <td>46.02</td>
                      </tr>
                      <tr>
                        <th>11</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2013</td>
                        <td>2.895528e+05</td>
                        <td>2.839749e+05</td>
                        <td>1.96</td>
                      </tr>
                      <tr>
                        <th>12</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2014</td>
                        <td>2.933624e+05</td>
                        <td>2.895528e+05</td>
                        <td>1.32</td>
                      </tr>
                      <tr>
                        <th>13</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2015</td>
                        <td>2.958225e+05</td>
                        <td>2.933624e+05</td>
                        <td>0.84</td>
                      </tr>
                      <tr>
                        <th>14</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2016</td>
                        <td>2.883079e+05</td>
                        <td>2.958225e+05</td>
                        <td>-2.54</td>
                      </tr>
                      <tr>
                        <th>15</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2017</td>
                        <td>2.447851e+05</td>
                        <td>2.883079e+05</td>
                        <td>-15.10</td>
                      </tr>
                      <tr>
                        <th>16</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2002</td>
                        <td>3.481806e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>17</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2003</td>
                        <td>3.446903e+05</td>
                        <td>3.481806e+05</td>
                        <td>-1.00</td>
                      </tr>
                      <tr>
                        <th>18</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2004</td>
                        <td>3.694572e+05</td>
                        <td>3.446903e+05</td>
                        <td>7.19</td>
                      </tr>
                      <tr>
                        <th>19</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2005</td>
                        <td>3.642353e+05</td>
                        <td>3.694572e+05</td>
                        <td>-1.41</td>
                      </tr>
                      <tr>
                        <th>20</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2006</td>
                        <td>3.669174e+05</td>
                        <td>3.642353e+05</td>
                        <td>0.74</td>
                      </tr>
                      <tr>
                        <th>21</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2007</td>
                        <td>3.655115e+05</td>
                        <td>3.669174e+05</td>
                        <td>-0.38</td>
                      </tr>
                      <tr>
                        <th>22</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2008</td>
                        <td>3.433101e+05</td>
                        <td>3.655115e+05</td>
                        <td>-6.07</td>
                      </tr>
                      <tr>
                        <th>23</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2009</td>
                        <td>3.182092e+05</td>
                        <td>3.433101e+05</td>
                        <td>-7.31</td>
                      </tr>
                      <tr>
                        <th>24</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2010</td>
                        <td>3.162391e+05</td>
                        <td>3.182092e+05</td>
                        <td>-0.62</td>
                      </tr>
                      <tr>
                        <th>25</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2011</td>
                        <td>3.134350e+05</td>
                        <td>3.162391e+05</td>
                        <td>-0.89</td>
                      </tr>
                      <tr>
                        <th>26</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2012</td>
                        <td>3.263095e+05</td>
                        <td>3.134350e+05</td>
                        <td>4.11</td>
                      </tr>
                      <tr>
                        <th>27</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2013</td>
                        <td>3.220488e+05</td>
                        <td>3.263095e+05</td>
                        <td>-1.31</td>
                      </tr>
                      <tr>
                        <th>28</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2014</td>
                        <td>3.182277e+05</td>
                        <td>3.220488e+05</td>
                        <td>-1.19</td>
                      </tr>
                      <tr>
                        <th>29</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2015</td>
                        <td>3.681956e+05</td>
                        <td>3.182277e+05</td>
                        <td>15.70</td>
                      </tr>
                      <tr>
                        <th>30</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>4.272554e+05</td>
                        <td>3.681956e+05</td>
                        <td>16.04</td>
                      </tr>
                      <tr>
                        <th>31</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2017</td>
                        <td>3.985589e+05</td>
                        <td>4.272554e+05</td>
                        <td>-6.72</td>
                      </tr>
                      <tr>
                        <th>32</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2002</td>
                        <td>8.822396e+05</td>
                        <td>NaN</td>
                        <td>NaN</td>
                      </tr>
                      <tr>
                        <th>33</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2003</td>
                        <td>8.720812e+05</td>
                        <td>8.822396e+05</td>
                        <td>-1.15</td>
                      </tr>
                      <tr>
                        <th>34</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2004</td>
                        <td>9.482737e+05</td>
                        <td>8.720812e+05</td>
                        <td>8.74</td>
                      </tr>
                      <tr>
                        <th>35</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2005</td>
                        <td>9.653565e+05</td>
                        <td>9.482737e+05</td>
                        <td>1.80</td>
                      </tr>
                      <tr>
                        <th>36</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2006</td>
                        <td>8.469208e+05</td>
                        <td>9.653565e+05</td>
                        <td>-12.27</td>
                      </tr>
                      <tr>
                        <th>37</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2007</td>
                        <td>8.098469e+05</td>
                        <td>8.469208e+05</td>
                        <td>-4.38</td>
                      </tr>
                      <tr>
                        <th>38</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2008</td>
                        <td>7.752910e+05</td>
                        <td>8.098469e+05</td>
                        <td>-4.27</td>
                      </tr>
                      <tr>
                        <th>39</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2009</td>
                        <td>7.338404e+05</td>
                        <td>7.752910e+05</td>
                        <td>-5.35</td>
                      </tr>
                      <tr>
                        <th>40</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2010</td>
                        <td>8.855228e+05</td>
                        <td>7.338404e+05</td>
                        <td>20.67</td>
                      </tr>
                      <tr>
                        <th>41</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2011</td>
                        <td>9.251899e+05</td>
                        <td>8.855228e+05</td>
                        <td>4.48</td>
                      </tr>
                      <tr>
                        <th>42</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2012</td>
                        <td>9.537402e+05</td>
                        <td>9.251899e+05</td>
                        <td>3.09</td>
                      </tr>
                      <tr>
                        <th>43</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2013</td>
                        <td>9.732773e+05</td>
                        <td>9.537402e+05</td>
                        <td>2.05</td>
                      </tr>
                      <tr>
                        <th>44</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2014</td>
                        <td>1.012109e+06</td>
                        <td>9.732773e+05</td>
                        <td>3.99</td>
                      </tr>
                      <tr>
                        <th>45</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2015</td>
                        <td>1.063976e+06</td>
                        <td>1.012109e+06</td>
                        <td>5.12</td>
                      </tr>
                      <tr>
                        <th>46</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2016</td>
                        <td>1.100640e+06</td>
                        <td>1.063976e+06</td>
                        <td>3.45</td>
                      </tr>
                      <tr>
                        <th>47</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2017</td>
                        <td>1.027202e+06</td>
                        <td>1.100640e+06</td>
                        <td>-6.67</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: yj
          type: sql
        - blockGroup: ddfa5b76f0874a77b0c6c658f5b62500
          content: ""
          executionCount: 12
          id: a6f2c2d58f8945618ca041927bf808f5
          metadata:
            execution_start: 1764524627179
            execution_millis: 1
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_chart_height: 582
            deepnote_variable_name: df_3
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: line
                            tooltip: true
                          encoding:
                            x:
                              axis:
                                grid: false
                              sort: ascending
                              type: temporal
                              field: year
                              scale:
                                type: linear
                                zero: false
                              bandPosition: 0
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: taux_croissance
                              scale:
                                type: linear
                                zero: false
                              format:
                                type: default
                                decimals: null
                              formatType: numberFormatFromNumberType
                            color:
                              sort: null
                              type: nominal
                              field: airline_name
                              scale:
                                scheme: deepnote10
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: Taux de croissance annuel par compagnies aériennes
              config:
                legend:
                  disable: false
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - taux_croissance
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: true
          outputs:
            - output_type: execute_result
              execution_count: 12
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: source_0
                      values:
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 315931
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 0
                          year: 2002-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 295645.527778
                          previous_year: 315931
                          taux_croissance: -6.42
                          _deepnote_index_column: 1
                          year: 2003-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 296641.388889
                          previous_year: 295645.527778
                          taux_croissance: 0.34
                          _deepnote_index_column: 2
                          year: 2004-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 255289.083333
                          previous_year: 296641.388889
                          taux_croissance: -13.94
                          _deepnote_index_column: 3
                          year: 2005-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 270788.361111
                          previous_year: 255289.083333
                          taux_croissance: 6.07
                          _deepnote_index_column: 4
                          year: 2006-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 254119.055556
                          previous_year: 270788.361111
                          taux_croissance: -6.16
                          _deepnote_index_column: 5
                          year: 2007-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 232021.277778
                          previous_year: 254119.055556
                          taux_croissance: -8.7
                          _deepnote_index_column: 6
                          year: 2008-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 209025.555556
                          previous_year: 232021.277778
                          taux_croissance: -9.91
                          _deepnote_index_column: 7
                          year: 2009-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 212045.722222
                          previous_year: 209025.555556
                          taux_croissance: 1.44
                          _deepnote_index_column: 8
                          year: 2010-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 194470.666667
                          previous_year: 212045.722222
                          taux_croissance: -8.29
                          _deepnote_index_column: 9
                          year: 2011-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 283974.916667
                          previous_year: 194470.666667
                          taux_croissance: 46.02
                          _deepnote_index_column: 10
                          year: 2012-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 289552.805556
                          previous_year: 283974.916667
                          taux_croissance: 1.96
                          _deepnote_index_column: 11
                          year: 2013-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 293362.388889
                          previous_year: 289552.805556
                          taux_croissance: 1.32
                          _deepnote_index_column: 12
                          year: 2014-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 295822.5
                          previous_year: 293362.388889
                          taux_croissance: 0.84
                          _deepnote_index_column: 13
                          year: 2015-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 288307.916667
                          previous_year: 295822.5
                          taux_croissance: -2.54
                          _deepnote_index_column: 14
                          year: 2016-01-01T00:00:00.000
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          avg_asm_domestic: 244785.111111
                          previous_year: 288307.916667
                          taux_croissance: -15.1
                          _deepnote_index_column: 15
                          year: 2017-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 348180.555556
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 16
                          year: 2002-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 344690.277778
                          previous_year: 348180.555556
                          taux_croissance: -1
                          _deepnote_index_column: 17
                          year: 2003-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 369457.194444
                          previous_year: 344690.277778
                          taux_croissance: 7.19
                          _deepnote_index_column: 18
                          year: 2004-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 364235.277778
                          previous_year: 369457.194444
                          taux_croissance: -1.41
                          _deepnote_index_column: 19
                          year: 2005-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 366917.388889
                          previous_year: 364235.277778
                          taux_croissance: 0.74
                          _deepnote_index_column: 20
                          year: 2006-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 365511.527778
                          previous_year: 366917.388889
                          taux_croissance: -0.38
                          _deepnote_index_column: 21
                          year: 2007-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 343310.138889
                          previous_year: 365511.527778
                          taux_croissance: -6.07
                          _deepnote_index_column: 22
                          year: 2008-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 318209.194444
                          previous_year: 343310.138889
                          taux_croissance: -7.31
                          _deepnote_index_column: 23
                          year: 2009-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 316239.055556
                          previous_year: 318209.194444
                          taux_croissance: -0.62
                          _deepnote_index_column: 24
                          year: 2010-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 313434.972222
                          previous_year: 316239.055556
                          taux_croissance: -0.89
                          _deepnote_index_column: 25
                          year: 2011-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 326309.472222
                          previous_year: 313434.972222
                          taux_croissance: 4.11
                          _deepnote_index_column: 26
                          year: 2012-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 322048.805556
                          previous_year: 326309.472222
                          taux_croissance: -1.31
                          _deepnote_index_column: 27
                          year: 2013-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 318227.666667
                          previous_year: 322048.805556
                          taux_croissance: -1.19
                          _deepnote_index_column: 28
                          year: 2014-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 368195.583333
                          previous_year: 318227.666667
                          taux_croissance: 15.7
                          _deepnote_index_column: 29
                          year: 2015-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 427255.416667
                          previous_year: 368195.583333
                          taux_croissance: 16.04
                          _deepnote_index_column: 30
                          year: 2016-01-01T00:00:00.000
                        - airline_code: FA
                          airline_name: Flock Air
                          avg_asm_domestic: 398558.888889
                          previous_year: 427255.416667
                          taux_croissance: -6.72
                          _deepnote_index_column: 31
                          year: 2017-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 882239.555556
                          previous_year: null
                          taux_croissance: null
                          _deepnote_index_column: 32
                          year: 2002-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 872081.222222
                          previous_year: 882239.555556
                          taux_croissance: -1.15
                          _deepnote_index_column: 33
                          year: 2003-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 948273.722222
                          previous_year: 872081.222222
                          taux_croissance: 8.74
                          _deepnote_index_column: 34
                          year: 2004-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 965356.527778
                          previous_year: 948273.722222
                          taux_croissance: 1.8
                          _deepnote_index_column: 35
                          year: 2005-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 846920.777778
                          previous_year: 965356.527778
                          taux_croissance: -12.27
                          _deepnote_index_column: 36
                          year: 2006-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 809846.916667
                          previous_year: 846920.777778
                          taux_croissance: -4.38
                          _deepnote_index_column: 37
                          year: 2007-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 775290.972222
                          previous_year: 809846.916667
                          taux_croissance: -4.27
                          _deepnote_index_column: 38
                          year: 2008-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 733840.361111
                          previous_year: 775290.972222
                          taux_croissance: -5.35
                          _deepnote_index_column: 39
                          year: 2009-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 885522.777778
                          previous_year: 733840.361111
                          taux_croissance: 20.67
                          _deepnote_index_column: 40
                          year: 2010-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 925189.916667
                          previous_year: 885522.777778
                          taux_croissance: 4.48
                          _deepnote_index_column: 41
                          year: 2011-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 953740.25
                          previous_year: 925189.916667
                          taux_croissance: 3.09
                          _deepnote_index_column: 42
                          year: 2012-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 973277.277778
                          previous_year: 953740.25
                          taux_croissance: 2.05
                          _deepnote_index_column: 43
                          year: 2013-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1012108.611111
                          previous_year: 973277.277778
                          taux_croissance: 3.99
                          _deepnote_index_column: 44
                          year: 2014-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1063976.222222
                          previous_year: 1012108.611111
                          taux_croissance: 5.12
                          _deepnote_index_column: 45
                          year: 2015-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1100639.5
                          previous_year: 1063976.222222
                          taux_croissance: 3.45
                          _deepnote_index_column: 46
                          year: 2016-01-01T00:00:00.000
                        - airline_code: GA
                          airline_name: Goose Airways
                          avg_asm_domestic: 1027202
                          previous_year: 1100639.5
                          taux_croissance: -6.67
                          _deepnote_index_column: 47
                          year: 2017-01-01T00:00:00.000
                      transform:
                        - type: formula
                          expr: toDate(datum['year'])
                          as: year
                    - name: source_0_y_domain_taux_croissance
                      values:
                        - min: -15.1
                          max: 46.02
                    - name: source_0_layer_0_layer_0_color_domain_airline_name
                      values:
                        - airline_name: Amazon Airlines
                        - airline_name: Flock Air
                        - airline_name: Goose Airways
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_airline_name_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: airline_name_legend_symbols
                              type: click
                            - source: view
                              markname: airline_name_legend_labels
                              type: click
                            - source: view
                              markname: airline_name_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_airline_name_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_airline_name_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_airline_name_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: airline_name
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            consume: true
                            type: pointermove
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: '[scale("x", interval_selection_year[0]), scale("x",
                            interval_selection_year[1])]'
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_year
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_y
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[y(unit), y(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            consume: true
                            type: pointermove
                          update: "[interval_selection_y[0], clamp(y(unit), 0, height)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: '[scale("y", interval_selection_taux_croissance[0]), scale("y",
                            interval_selection_taux_croissance[1])]'
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_y,
                            interval_selection_translate_delta.y /
                            span(interval_selection_translate_anchor.extent_y)),
                            0, height)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_y,
                            interval_selection_zoom_anchor.y,
                            interval_selection_zoom_delta), 0, height)
                    - name: interval_selection_taux_croissance
                      on:
                        - events:
                            signal: interval_selection_y
                          update: 'interval_selection_y[0] === interval_selection_y[1] ? null :
                            invert("y", interval_selection_y)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                            - scale: y
                          update: '(!isArray(interval_selection_year) || (+invert("x",
                            interval_selection_x)[0] ===
                            +interval_selection_year[0] && +invert("x",
                            interval_selection_x)[1] ===
                            +interval_selection_year[1])) &&
                            (!isArray(interval_selection_taux_croissance) ||
                            (+invert("y", interval_selection_y)[0] ===
                            +interval_selection_taux_croissance[0] &&
                            +invert("y", interval_selection_y)[1] ===
                            +interval_selection_taux_croissance[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_year || interval_selection_taux_croissance
                          update: 'interval_selection_year && interval_selection_taux_croissance ? {unit:
                            "layer_0_layer_0_layer_0", fields:
                            interval_selection_tuple_fields, values:
                            [interval_selection_year,interval_selection_taux_croissance]}
                            : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: year
                          channel: x
                          type: R
                        - field: taux_croissance
                          channel: y
                          type: R
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x),
                            extent_y: slice(interval_selection_y)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              consume: true
                              type: pointermove
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        update:
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                        enter:
                          fillOpacity:
                            value: 0.125
                          fill:
                            value: "#333"
                      clip: true
                    - type: group
                      name: layer_0_layer_0_layer_0_pathgroup
                      from:
                        facet:
                          data: source_0
                          name: faceted_path_layer_0_layer_0_layer_0_main
                          groupby:
                            - airline_name
                      encode:
                        update:
                          height:
                            field:
                              signal: null
                              datum: null
                              group: height
                              parent: null
                          width:
                            field:
                              signal: null
                              datum: null
                              group: width
                              parent: null
                      marks:
                        - type: line
                          name: layer_0_layer_0_layer_0_marks
                          from:
                            data: faceted_path_layer_0_layer_0_layer_0_main
                          sort:
                            field: x
                          encode:
                            update:
                              tooltip:
                                signal: "{\"year\": timeFormat(datum[\"year\"], '%b %d, %Y'),
                                  \"taux_croissance\":
                                  numberFormatFromNumberType(datum[\"taux_crois\
                                  sance\"],
                                  {\"decimals\":null,\"type\":\"default\"}),
                                  \"airline_name\":
                                  isValid(datum[\"airline_name\"]) ?
                                  datum[\"airline_name\"] :
                                  \"\"+datum[\"airline_name\"]}"
                              stroke:
                                field: airline_name
                                scale: layer_0_layer_0_color
                              x:
                                field: year
                                scale: x
                              opacity:
                                - value: 1
                                  test: (!length(data("legend_size_0_store")) ||
                                    vlSelectionTest("legend_size_0_store",
                                    datum)) &&
                                    (!length(data("legend_color_0_store")) ||
                                    vlSelectionTest("legend_color_0_store",
                                    datum))
                                - value: 0.2
                              y:
                                field: taux_croissance
                                scale: y
                              defined:
                                signal: isValid(datum["year"]) && isFinite(+datum["year"]) &&
                                  isValid(datum["taux_croissance"]) &&
                                  isFinite(+datum["taux_croissance"])
                          clip: true
                          style:
                            - line
                          interactive: true
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        enter:
                          cursor:
                            value: move
                          fill:
                            value: transparent
                        update:
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1] &&
                                interval_selection_y[0] !==
                                interval_selection_y[1]
                            - {}
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                  scales:
                    - name: x
                      type: time
                      domain:
                        data: source_0
                        field: year
                      range:
                        - 0
                        - signal: width
                    - name: y
                      type: linear
                      domain:
                        - signal: (data("source_0_y_domain_taux_croissance")[0] || {}).min
                        - signal: (data("source_0_y_domain_taux_croissance")[0] || {}).max
                      range:
                        - signal: height
                        - 0
                      nice: true
                      zero: false
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        data: source_0_layer_0_layer_0_color_domain_airline_name
                        field: airline_name
                      range:
                        scheme: deepnote10
                  axes:
                    - scale: y
                      orient: left
                      domain: false
                      minExtent: 0
                      tickCount: 5
                      ticks: false
                      grid: true
                      labels: false
                      aria: false
                      zindex: 0
                      gridScale: x
                      maxExtent: 0
                    - scale: x
                      labelOverlap: true
                      title: year
                      tickCount:
                        signal: ceil(width/40)
                      zindex: 0
                      grid: false
                      labelFlush: true
                      orient: bottom
                    - scale: y
                      grid: false
                      zindex: 0
                      title: taux_croissance
                      orient: left
                      tickCount: 5
                      labelOverlap: true
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                  title:
                    text: Taux de croissance annuel par compagnies aériennes
                    frame: group
                  usermeta:
                    tooltipDefaultMode: true
                    seriesOrder:
                      - 0
                    specSchemaVersion: 2
                    seriesNames:
                      - taux_croissance
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 48
                      columns:
                        - name: airline_code
                          nativeType: object
                          distinctValues:
                            - AA
                            - FA
                            - GA
                        - name: airline_name
                          nativeType: object
                          distinctValues:
                            - Amazon Airlines
                            - Flock Air
                            - Goose Airways
                        - name: year
                          nativeType: int64
                          distinctValues:
                            - 2002
                            - 2003
                            - 2004
                            - 2005
                            - 2006
                            - 2007
                            - 2008
                            - 2009
                            - 2010
                            - 2011
                            - 2012
                            - 2013
                            - 2014
                            - 2015
                            - 2016
                            - 2017
                        - name: avg_asm_domestic
                          nativeType: float64
                          distinctValues:
                            - 194470.666667
                            - 209025.555556
                            - 212045.722222
                            - 232021.277778
                            - 244785.111111
                            - 254119.055556
                            - 255289.083333
                            - 270788.361111
                            - 283974.916667
                            - 288307.916667
                            - 289552.805556
                            - 293362.388889
                            - 295645.527778
                            - 295822.5
                            - 296641.388889
                            - 313434.972222
                            - 315931
                            - 316239.055556
                            - 318209.194444
                            - 318227.666667
                            - 322048.805556
                            - 326309.472222
                            - 343310.138889
                            - 344690.277778
                            - 348180.555556
                            - 364235.277778
                            - 365511.527778
                            - 366917.388889
                            - 368195.583333
                            - 369457.194444
                        - name: previous_year
                          nativeType: float64
                          distinctValues:
                            - 194470.666667
                            - 209025.555556
                            - 212045.722222
                            - 232021.277778
                            - 254119.055556
                            - 255289.083333
                            - 270788.361111
                            - 283974.916667
                            - 288307.916667
                            - 289552.805556
                            - 293362.388889
                            - 295645.527778
                            - 295822.5
                            - 296641.388889
                            - 313434.972222
                            - 315931
                            - 316239.055556
                            - 318209.194444
                            - 318227.666667
                            - 322048.805556
                            - 326309.472222
                            - 343310.138889
                            - 344690.277778
                            - 348180.555556
                            - 364235.277778
                            - 365511.527778
                            - 366917.388889
                            - 368195.583333
                            - 369457.194444
                            - 427255.416667
                        - name: taux_croissance
                          nativeType: float64
                          distinctValues:
                            - -15.1
                            - -13.94
                            - -9.91
                            - -8.7
                            - -8.29
                            - -7.31
                            - -6.72
                            - -6.42
                            - -6.16
                            - -6.07
                            - -2.54
                            - -1.41
                            - -1.31
                            - -1.19
                            - -1
                            - -0.89
                            - -0.62
                            - -0.38
                            - 0.34
                            - 0.74
                            - 0.84
                            - 1.32
                            - 1.44
                            - 1.96
                            - 4.11
                            - 6.07
                            - 7.19
                            - 15.7
                            - 16.04
                            - 46.02
                  legends:
                    - stroke: layer_0_layer_0_color
                      symbolType: stroke
                      title: airline_name
                      encode:
                        labels:
                          name: airline_name_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airline_name"]
                                  && indexof(legend_color_0["airline_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: airline_name_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["airline_name"]
                                  && indexof(legend_color_0["airline_name"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: airline_name_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  style: cell
                  padding: 5
                  background: white
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  autosize:
                    type: fit
                    contains: padding
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172c88e350>
              metadata: {}
          sortingKey: yr
          type: visualization
        - blockGroup: 9ad558380f904a668bdfb3f9da25402c
          content: >
            --- Quelle a été l'année avec le meilleur taux de croissance par
            compagnie aérienne ?

            SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE
          executionCount: 13
          id: b9c116a5555347818194d965505d50be
          metadata:
            execution_start: 1764524627228
            execution_millis: 2742
            sql_integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_4
          outputs:
            - data:
                application/vnd.deepnote.sql-output-metadata+json:
                  status: success_no_cache
                  size_in_bytes: 565
                  compiled_query: |-
                    --- Quelle a été l'année avec le meilleur taux de croissance par compagnie aérienne ?
                    SELECT * FROM ANALYTICS.DBT_SBRETTON.FCT_CROISSANCE
                    /* {"app":"deepnote","submitted_by":"user","user_email":"sbretton@gmail.com","workspace_id":"4a24df9e-c689-450b-9602-760b544bcc70","project_id":"d28f442c-5b6d-4fa3-bb7a-904fb66836dc","notebook_id":"20838d179d054570a75a992fe74fe2a2","project_url":"https://deepnote.com/project/d28f442c-5b6d-4fa3-bb7a-904fb66836dc"} */
                  variable_type: dataframe
                  integration_id: bf9fd8d2-63ab-467a-b13d-17e84926ede0
              metadata: {}
              output_type: display_data
            - output_type: execute_result
              execution_count: 13
              data:
                application/vnd.deepnote.dataframe.v3+json:
                  column_count: 4
                  columns:
                    - name: airline_code
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: AA
                            count: 1
                          - name: FA
                            count: 1
                          - name: GA
                            count: 1
                    - name: airline_name
                      dtype: object
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: null
                        max: null
                        histogram: null
                        categories:
                          - name: Amazon Airlines
                            count: 1
                          - name: Flock Air
                            count: 1
                          - name: Goose Airways
                            count: 1
                    - name: best_year
                      dtype: int64
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: "2010"
                        max: "2016"
                        histogram:
                          - bin_start: 2010
                            bin_end: 2010.6
                            count: 1
                          - bin_start: 2010.6
                            bin_end: 2011.2
                            count: 0
                          - bin_start: 2011.2
                            bin_end: 2011.8
                            count: 0
                          - bin_start: 2011.8
                            bin_end: 2012.4
                            count: 1
                          - bin_start: 2012.4
                            bin_end: 2013
                            count: 0
                          - bin_start: 2013
                            bin_end: 2013.6
                            count: 0
                          - bin_start: 2013.6
                            bin_end: 2014.2
                            count: 0
                          - bin_start: 2014.2
                            bin_end: 2014.8
                            count: 0
                          - bin_start: 2014.8
                            bin_end: 2015.4
                            count: 0
                          - bin_start: 2015.4
                            bin_end: 2016
                            count: 1
                        categories: null
                    - name: best_taux_croissance
                      dtype: float64
                      stats:
                        unique_count: 3
                        nan_count: 0
                        min: "16.04"
                        max: "46.02"
                        histogram:
                          - bin_start: 16.04
                            bin_end: 19.038
                            count: 1
                          - bin_start: 19.038
                            bin_end: 22.036
                            count: 1
                          - bin_start: 22.036
                            bin_end: 25.034
                            count: 0
                          - bin_start: 25.034
                            bin_end: 28.032
                            count: 0
                          - bin_start: 28.032
                            bin_end: 31.03
                            count: 0
                          - bin_start: 31.03
                            bin_end: 34.028
                            count: 0
                          - bin_start: 34.028
                            bin_end: 37.025999999999996
                            count: 0
                          - bin_start: 37.025999999999996
                            bin_end: 40.024
                            count: 0
                          - bin_start: 40.024
                            bin_end: 43.022000000000006
                            count: 0
                          - bin_start: 43.022000000000006
                            bin_end: 46.02
                            count: 1
                        categories: null
                    - name: _deepnote_index_column
                      dtype: int64
                  row_count: 3
                  preview_row_count: 3
                  rows:
                    - airline_code: AA
                      airline_name: Amazon Airlines
                      best_year: 2012
                      best_taux_croissance: 46.02
                      _deepnote_index_column: 0
                    - airline_code: FA
                      airline_name: Flock Air
                      best_year: 2016
                      best_taux_croissance: 16.04
                      _deepnote_index_column: 1
                    - airline_code: GA
                      airline_name: Goose Airways
                      best_year: 2010
                      best_taux_croissance: 20.67
                      _deepnote_index_column: 2
                  type: dataframe
                text/plain: |2-
                    airline_code     airline_name  best_year  best_taux_croissance
                  0           AA  Amazon Airlines       2012                 46.02
                  1           FA        Flock Air       2016                 16.04
                  2           GA    Goose Airways       2010                 20.67
                text/html: |-
                  <div>
                  <style scoped>
                      .dataframe tbody tr th:only-of-type {
                          vertical-align: middle;
                      }

                      .dataframe tbody tr th {
                          vertical-align: top;
                      }

                      .dataframe thead th {
                          text-align: right;
                      }
                  </style>
                  <table border="1" class="dataframe">
                    <thead>
                      <tr style="text-align: right;">
                        <th></th>
                        <th>airline_code</th>
                        <th>airline_name</th>
                        <th>best_year</th>
                        <th>best_taux_croissance</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>0</th>
                        <td>AA</td>
                        <td>Amazon Airlines</td>
                        <td>2012</td>
                        <td>46.02</td>
                      </tr>
                      <tr>
                        <th>1</th>
                        <td>FA</td>
                        <td>Flock Air</td>
                        <td>2016</td>
                        <td>16.04</td>
                      </tr>
                      <tr>
                        <th>2</th>
                        <td>GA</td>
                        <td>Goose Airways</td>
                        <td>2010</td>
                        <td>20.67</td>
                      </tr>
                    </tbody>
                  </table>
                  </div>
              metadata:
                table_state_spec: "{}"
          sortingKey: yv
          type: sql
        - blockGroup: 9725b41c82ec42d491a304f0614ae0ef
          content: ""
          executionCount: 14
          id: abef5201178c467cb7e346e921f6fd46
          metadata:
            execution_start: 1764524630019
            execution_millis: 1
            execution_context_id: df6c7488-3ed1-403f-a2da-e37f1e7aa763
            deepnote_variable_name: df_4
            deepnote_config_collapsed: false
            deepnote_visualization_spec:
              layer:
                - layer:
                    - layer:
                        - mark:
                            clip: true
                            type: bar
                            tooltip: false
                          encoding:
                            x:
                              sort: null
                              type: nominal
                              field: airline_name
                              scale:
                                type: linear
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: best_taux_croissance
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              formatType: numberFormatFromNumberType
                            color:
                              sort: null
                              type: nominal
                              field: best_year
                              scale:
                                scheme: deepnote10
                            tooltip:
                              - type: quantitative
                                field: best_year
                            xOffset:
                              sort: null
                              type: nominal
                              field: best_year
                          transform: []
                        - mark:
                            dx: 0
                            dy: -1
                            fill:
                              expr: valueLabelsColor
                            type: text
                            align: center
                            baseline: bottom
                          encoding:
                            x:
                              sort: null
                              type: nominal
                              field: airline_name
                              scale:
                                type: linear
                            y:
                              axis:
                                format:
                                  type: default
                                  decimals: null
                                formatType: numberFormatFromNumberType
                              type: quantitative
                              field: best_taux_croissance
                              scale:
                                type: linear
                              format:
                                type: default
                                decimals: null
                              formatType: numberFormatFromNumberType
                            text:
                              type: quantitative
                              field: best_taux_croissance
                            color:
                              sort: null
                              type: nominal
                              field: best_year
                              scale:
                                scheme: deepnote10
                            tooltip:
                              - type: quantitative
                                field: best_year
                            xOffset:
                              sort: null
                              type: nominal
                              field: best_year
                          transform: []
                  resolve:
                    scale:
                      color: independent
              title: "Année du taux de croissance le plus élevé "
              config:
                legend:
                  disable: false
              params:
                - name: valueLabelsColor
                  value: black
              $schema: https://vega.github.io/schema/vega-lite/v5.json
              encoding: {}
              usermeta:
                seriesNames:
                  - best_taux_croissance
                seriesOrder:
                  - 0
                specSchemaVersion: 2
                tooltipDefaultMode: false
          outputs:
            - output_type: execute_result
              execution_count: 14
              data:
                application/vnd.vega.v5+json:
                  $schema: https://vega.github.io/schema/vega/v5.json
                  data:
                    - name: legend_size_0_store
                    - name: legend_color_0_store
                    - name: interval_selection_store
                    - name: legend_size_0_0_store
                    - name: legend_color_0_0_store
                    - name: source_0
                    - name: data_0
                      values:
                        - airline_code: AA
                          airline_name: Amazon Airlines
                          best_year: 2012
                          best_taux_croissance: 46.02
                          _deepnote_index_column: 0
                          best_taux_croissance_end: 46.02
                          best_taux_croissance_start: 0
                        - airline_code: FA
                          airline_name: Flock Air
                          best_year: 2016
                          best_taux_croissance: 16.04
                          _deepnote_index_column: 1
                          best_taux_croissance_end: 16.04
                          best_taux_croissance_start: 0
                        - airline_code: GA
                          airline_name: Goose Airways
                          best_year: 2010
                          best_taux_croissance: 20.67
                          _deepnote_index_column: 2
                          best_taux_croissance_end: 20.67
                          best_taux_croissance_start: 0
                    - name: data_1
                      values:
                        - airline_name: Amazon Airlines
                          best_taux_croissance: 46.02
                          best_year: 2012
                        - airline_name: Flock Air
                          best_taux_croissance: 16.04
                          best_year: 2016
                        - airline_name: Goose Airways
                          best_taux_croissance: 20.67
                          best_year: 2010
                    - name: data_0_x_domain_airline_name_0
                      values:
                        - airline_name: Amazon Airlines
                        - airline_name: Flock Air
                        - airline_name: Goose Airways
                    - name: data_1_x_domain_airline_name_1
                      values:
                        - airline_name: Amazon Airlines
                        - airline_name: Flock Air
                        - airline_name: Goose Airways
                    - name: data_0_xOffset_domain_best_year_0
                      values:
                        - best_year: 2012
                        - best_year: 2016
                        - best_year: 2010
                    - name: data_1_xOffset_domain_best_year_1
                      values:
                        - best_year: 2012
                        - best_year: 2016
                        - best_year: 2010
                    - name: data_0_layer_0_layer_0_color_domain_best_year_0
                      values:
                        - best_year: 2012
                        - best_year: 2016
                        - best_year: 2010
                    - name: data_1_layer_0_layer_0_color_domain_best_year_1
                      values:
                        - best_year: 2012
                        - best_year: 2016
                        - best_year: 2010
                  signals:
                    - name: width
                      init: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[0]) ? containerSize()[0] : 200"
                    - name: height
                      init: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                      on:
                        - events: window:resize
                          update: "isFinite(containerSize()[1]) ? containerSize()[1] : 200"
                    - name: legend_color_0_0_best_year_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: best_year_legend_symbols
                              type: click
                            - source: view
                              markname: best_year_legend_labels
                              type: click
                            - source: view
                              markname: best_year_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_0_best_year_legend"
                          force: true
                    - name: unit
                      value: {}
                      on:
                        - events: pointermove
                          update: "isTuple(group()) ? group() : unit"
                    - name: legend_color_0_best_year_legend
                      value: null
                      on:
                        - events:
                            - source: view
                              markname: best_year_legend_symbols
                              type: click
                            - source: view
                              markname: best_year_legend_labels
                              type: click
                            - source: view
                              markname: best_year_legend_entries
                              type: click
                          update: "isDefined(datum.value) ? datum.value :
                            item().items[0].items[0].datum.value"
                          force: true
                        - events:
                            - source: view
                              type: click
                          update: "!event.item || !datum ? null : legend_color_0_best_year_legend"
                          force: true
                    - name: legend_size_0
                      update: vlSelectionResolve("legend_size_0_store", "union", true, true)
                    - name: legend_color_0
                      update: vlSelectionResolve("legend_color_0_store", "union", true, true)
                    - name: interval_selection
                      update: vlSelectionResolve("interval_selection_store", "union")
                    - name: legend_size_0_0
                      update: vlSelectionResolve("legend_size_0_0_store", "union", true, true)
                    - name: legend_color_0_0
                      update: vlSelectionResolve("legend_color_0_0_store", "union", true, true)
                    - name: valueLabelsColor
                      value: black
                    - name: legend_size_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 && indexof(item().mark.name,
                            'interval_selection_brush') < 0 ? {unit:
                            \"layer_0_layer_0_layer_0\", fields:
                            legend_size_0_tuple_fields, values: []} : null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_tuple_fields
                      value: []
                    - name: legend_size_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_modify
                      on:
                        - events:
                            signal: legend_size_0_tuple
                          update: 'modify("legend_size_0_store", legend_size_0_toggle ? null :
                            legend_size_0_tuple, legend_size_0_toggle ? null :
                            true, legend_size_0_toggle ? legend_size_0_tuple :
                            null)'
                    - name: legend_color_0_tuple
                      update: "legend_color_0_best_year_legend !== null ? {fields:
                        legend_color_0_tuple_fields, values:
                        [legend_color_0_best_year_legend]} : null"
                    - name: legend_color_0_tuple_fields
                      value:
                        - field: best_year
                          channel: color
                          type: E
                    - name: legend_color_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_modify
                      on:
                        - events:
                            signal: legend_color_0_tuple
                          update: 'modify("legend_color_0_store", legend_color_0_toggle ? null :
                            legend_color_0_tuple, legend_color_0_toggle ? null :
                            true, legend_color_0_toggle ? legend_color_0_tuple :
                            null)'
                    - name: interval_selection_x
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[x(unit), x(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            consume: true
                            type: pointermove
                          update: "[interval_selection_x[0], clamp(x(unit), 0, width)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: "[0, 0]"
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_x,
                            interval_selection_translate_delta.x /
                            span(interval_selection_translate_anchor.extent_x)),
                            0, width)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_x,
                            interval_selection_zoom_anchor.x,
                            interval_selection_zoom_delta), 0, width)
                    - name: interval_selection_airline_name
                      on:
                        - events:
                            signal: interval_selection_x
                          update: 'interval_selection_x[0] === interval_selection_x[1] ? null :
                            invert("x", interval_selection_x)'
                    - name: interval_selection_y
                      value: []
                      on:
                        - events:
                            source: scope
                            filter:
                              - '!event.item || event.item.mark.name !==
                                "interval_selection_brush"'
                            type: pointerdown
                          update: "[y(unit), y(unit)]"
                        - events:
                            source: window
                            between:
                              - source: scope
                                filter:
                                  - '!event.item || event.item.mark.name !==
                                    "interval_selection_brush"'
                                type: pointerdown
                              - source: window
                                type: pointerup
                            type: pointermove
                            consume: true
                          update: "[interval_selection_y[0], clamp(y(unit), 0, height)]"
                        - events:
                            signal: interval_selection_scale_trigger
                          update: '[scale("y", interval_selection_best_taux_croissance[0]), scale("y",
                            interval_selection_best_taux_croissance[1])]'
                        - events:
                            - source: view
                              type: dblclick
                          update: "[0, 0]"
                        - events:
                            signal: interval_selection_translate_delta
                          update: clampRange(panLinear(interval_selection_translate_anchor.extent_y,
                            interval_selection_translate_delta.y /
                            span(interval_selection_translate_anchor.extent_y)),
                            0, height)
                        - events:
                            signal: interval_selection_zoom_delta
                          update: clampRange(zoomLinear(interval_selection_y,
                            interval_selection_zoom_anchor.y,
                            interval_selection_zoom_delta), 0, height)
                    - name: interval_selection_best_taux_croissance
                      on:
                        - events:
                            signal: interval_selection_y
                          update: 'interval_selection_y[0] === interval_selection_y[1] ? null :
                            invert("y", interval_selection_y)'
                    - name: interval_selection_scale_trigger
                      value: {}
                      on:
                        - events:
                            - scale: x
                            - scale: y
                          update: '(!isArray(interval_selection_airline_name) || (invert("x",
                            interval_selection_x)[0] ===
                            interval_selection_airline_name[0] && invert("x",
                            interval_selection_x)[1] ===
                            interval_selection_airline_name[1])) &&
                            (!isArray(interval_selection_best_taux_croissance)
                            || (+invert("y", interval_selection_y)[0] ===
                            +interval_selection_best_taux_croissance[0] &&
                            +invert("y", interval_selection_y)[1] ===
                            +interval_selection_best_taux_croissance[1])) ?
                            interval_selection_scale_trigger : {}'
                    - name: interval_selection_tuple
                      on:
                        - events:
                            - signal: interval_selection_airline_name ||
                                interval_selection_best_taux_croissance
                          update: 'interval_selection_airline_name &&
                            interval_selection_best_taux_croissance ? {unit:
                            "layer_0_layer_0_layer_0", fields:
                            interval_selection_tuple_fields, values:
                            [interval_selection_airline_name,interval_selection_best_taux_croissance]}
                            : null'
                    - name: interval_selection_tuple_fields
                      value:
                        - field: airline_name
                          channel: x
                          type: E
                        - field: best_taux_croissance
                          channel: y
                          type: R
                    - name: interval_selection_translate_anchor
                      value: {}
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: pointerdown
                          update: "{x: x(unit), y: y(unit), extent_x: slice(interval_selection_x),
                            extent_y: slice(interval_selection_y)}"
                    - name: interval_selection_translate_delta
                      value: {}
                      on:
                        - events:
                            - source: window
                              between:
                                - source: scope
                                  markname: interval_selection_brush
                                  type: pointerdown
                                - source: window
                                  type: pointerup
                              consume: true
                              type: pointermove
                          update: "{x: interval_selection_translate_anchor.x - x(unit), y:
                            interval_selection_translate_anchor.y - y(unit)}"
                    - name: interval_selection_zoom_anchor
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              consume: true
                              type: wheel
                          update: "{x: x(unit), y: y(unit)}"
                    - name: interval_selection_zoom_delta
                      on:
                        - events:
                            - source: scope
                              markname: interval_selection_brush
                              type: wheel
                              consume: true
                          update: pow(1.001, event.deltaY * pow(16, event.deltaMode))
                          force: true
                    - name: interval_selection_modify
                      on:
                        - events:
                            signal: interval_selection_tuple
                          update: modify("interval_selection_store", interval_selection_tuple, true)
                    - name: legend_size_0_0_tuple
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "datum && item().mark.marktype !== 'group' && indexof(item().mark.role,
                            'legend') < 0 ? {unit: \"layer_0_layer_0_layer_1\",
                            fields: legend_size_0_0_tuple_fields, values: []} :
                            null"
                          force: true
                        - events:
                            - source: view
                              type: dblclick
                          update: "null"
                    - name: legend_size_0_0_tuple_fields
                      value: []
                    - name: legend_size_0_0_toggle
                      value: false
                      on:
                        - events:
                            - source: scope
                              type: click
                          update: "true"
                        - events:
                            - source: view
                              type: dblclick
                          update: "false"
                    - name: legend_size_0_0_modify
                      on:
                        - events:
                            signal: legend_size_0_0_tuple
                          update: 'modify("legend_size_0_0_store", legend_size_0_0_toggle ? null :
                            legend_size_0_0_tuple, legend_size_0_0_toggle ? null
                            : true, legend_size_0_0_toggle ?
                            legend_size_0_0_tuple : null)'
                    - name: legend_color_0_0_tuple
                      update: "legend_color_0_0_best_year_legend !== null ? {fields:
                        legend_color_0_0_tuple_fields, values:
                        [legend_color_0_0_best_year_legend]} : null"
                    - name: legend_color_0_0_tuple_fields
                      value:
                        - field: best_year
                          channel: color
                          type: E
                    - name: legend_color_0_0_toggle
                      value: false
                      on:
                        - events:
                            merge:
                              - source: view
                                type: click
                          update: "true"
                    - name: legend_color_0_0_modify
                      on:
                        - events:
                            signal: legend_color_0_0_tuple
                          update: 'modify("legend_color_0_0_store", legend_color_0_0_toggle ? null :
                            legend_color_0_0_tuple, legend_color_0_0_toggle ?
                            null : true, legend_color_0_0_toggle ?
                            legend_color_0_0_tuple : null)'
                  marks:
                    - type: rect
                      name: interval_selection_brush_bg
                      encode:
                        enter:
                          fillOpacity:
                            value: 0.125
                          fill:
                            value: "#333"
                        update:
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                      clip: true
                    - type: rect
                      name: layer_0_layer_0_layer_0_marks
                      from:
                        data: data_0
                      encode:
                        update:
                          y:
                            field: best_taux_croissance_end
                            scale: y
                          opacity:
                            - value: 1
                              test: (!length(data("legend_size_0_store")) ||
                                vlSelectionTest("legend_size_0_store", datum))
                                && (!length(data("legend_color_0_store")) ||
                                vlSelectionTest("legend_color_0_store", datum))
                                && (!length(data("interval_selection_store")) ||
                                vlSelectionTest("interval_selection_store",
                                datum))
                            - value: 0.2
                          y2:
                            field: best_taux_croissance_start
                            scale: y
                          fill:
                            field: best_year
                            scale: layer_0_layer_0_color
                          tooltip:
                            signal: '{"best_year": format(datum["best_year"], "")}'
                          width:
                            signal: max(0.25, bandwidth('xOffset'))
                          x:
                            field: airline_name
                            scale: x
                            offset:
                              field: best_year
                              scale: xOffset
                      clip: true
                      style:
                        - bar
                      interactive: true
                    - type: text
                      name: layer_0_layer_0_layer_1_marks
                      from:
                        data: data_1
                      encode:
                        update:
                          dy:
                            value: -1
                          fill:
                            signal: valueLabelsColor
                          baseline:
                            value: bottom
                          dx:
                            value: 0
                          y:
                            field: best_taux_croissance
                            scale: y
                          tooltip:
                            signal: '{"best_year": format(datum["best_year"], "")}'
                          align:
                            value: center
                          text:
                            signal: format(datum["best_taux_croissance"], "")
                          x:
                            field: airline_name
                            scale: x
                            offset:
                              field: best_year
                              scale: xOffset
                              band: 0.5
                      style:
                        - text
                      interactive: true
                    - type: rect
                      name: interval_selection_brush
                      encode:
                        update:
                          x2:
                            - signal: interval_selection_x[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y:
                            - signal: interval_selection_y[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          x:
                            - signal: interval_selection_x[0]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          y2:
                            - signal: interval_selection_y[1]
                              test: data("interval_selection_store").length &&
                                data("interval_selection_store")[0].unit ===
                                "layer_0_layer_0_layer_0"
                            - value: 0
                          stroke:
                            - value: white
                              test: interval_selection_x[0] !== interval_selection_x[1] &&
                                interval_selection_y[0] !==
                                interval_selection_y[1]
                            - {}
                        enter:
                          fill:
                            value: transparent
                          cursor:
                            value: move
                      clip: true
                  scales:
                    - name: x
                      type: band
                      domain:
                        fields:
                          - data: data_0_x_domain_airline_name_0
                            field: airline_name
                          - data: data_1_x_domain_airline_name_1
                            field: airline_name
                      range:
                        - 0
                        - signal: width
                      paddingOuter: 0.2
                      paddingInner: 0.2
                    - name: y
                      type: linear
                      domain:
                        fields:
                          - data: data_0
                            field: best_taux_croissance_start
                          - data: data_0
                            field: best_taux_croissance_end
                          - data: data_1
                            field: best_taux_croissance
                      range:
                        - signal: height
                        - 0
                      zero: true
                      nice: true
                    - name: xOffset
                      type: band
                      domain:
                        fields:
                          - data: data_0_xOffset_domain_best_year_0
                            field: best_year
                          - data: data_1_xOffset_domain_best_year_1
                            field: best_year
                      range:
                        - 0
                        - signal: bandwidth('x')
                    - name: layer_0_layer_0_color
                      type: ordinal
                      domain:
                        fields:
                          - data: data_0_layer_0_layer_0_color_domain_best_year_0
                            field: best_year
                          - data: data_1_layer_0_layer_0_color_domain_best_year_1
                            field: best_year
                      range:
                        scheme: deepnote10
                  axes:
                    - scale: y
                      labels: false
                      gridScale: x
                      grid: true
                      tickCount: 5
                      aria: false
                      orient: left
                      maxExtent: 0
                      ticks: false
                      zindex: 0
                      minExtent: 0
                      domain: false
                    - scale: x
                      labelBaseline: middle
                      title: airline_name
                      labelAlign: right
                      grid: false
                      labelAngle: 270
                      zindex: 0
                      orient: bottom
                    - scale: y
                      zindex: 0
                      title: best_taux_croissance
                      labelOverlap: true
                      grid: false
                      tickCount: 5
                      encode:
                        labels:
                          update:
                            text:
                              signal: numberFormatFromNumberType(datum.value,
                                {"decimals":null,"type":"default"})
                      orient: left
                  title:
                    text: "Année du taux de croissance le plus élevé "
                    frame: group
                  usermeta:
                    tooltipDefaultMode: false
                    seriesNames:
                      - best_taux_croissance
                    seriesOrder:
                      - 0
                    specSchemaVersion: 2
                    outputMetadata:
                      rowLimitExceeded: false
                      rowLimit: 5000
                      filteredDataframeSize: 3
                      columns:
                        - name: airline_code
                          nativeType: object
                          distinctValues:
                            - AA
                            - FA
                            - GA
                        - name: airline_name
                          nativeType: object
                          distinctValues:
                            - Amazon Airlines
                            - Flock Air
                            - Goose Airways
                        - name: best_year
                          nativeType: int64
                          distinctValues:
                            - 2010
                            - 2012
                            - 2016
                        - name: best_taux_croissance
                          nativeType: float64
                          distinctValues:
                            - 16.04
                            - 20.67
                            - 46.02
                  config:
                    customFormatTypes: true
                    legend:
                      disable: false
                  padding: 5
                  background: white
                  autosize:
                    type: fit
                    contains: padding
                  legends:
                    - fill: layer_0_layer_0_color
                      symbolType: circle
                      title: best_year
                      encode:
                        labels:
                          name: best_year_legend_labels
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["best_year"] &&
                                  indexof(legend_color_0["best_year"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        symbols:
                          name: best_year_legend_symbols
                          interactive: true
                          update:
                            opacity:
                              - test: (!length(data("legend_color_0_store")) || (legend_color_0["best_year"] &&
                                  indexof(legend_color_0["best_year"],
                                  datum.value) >= 0))
                                value: 1
                              - value: 0.35
                        entries:
                          name: best_year_legend_entries
                          interactive: true
                          update:
                            fill:
                              value: transparent
                  style: cell
                text/plain: <deepnote_toolkit.chart.deepnote_chart.DeepnoteChart at
                  0x7f172c856490>
              metadata: {}
          sortingKey: yx
          type: visualization
      executionMode: block
      id: 20838d179d054570a75a992fe74fe2a2
      isModule: false
      name: Notebook 1
  settings: {}
version: 1.0.0
